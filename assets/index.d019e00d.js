const pn=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerpolicy&&(l.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?l.credentials="include":s.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(s){if(s.ep)return;s.ep=!0;const l=r(s);fetch(s.href,l)}};pn();const vn="modulepreload",Zt={},$n="/",at=function(t,r){return!r||r.length===0?t():Promise.all(r.map(n=>{if(n=`${$n}${n}`,n in Zt)return;Zt[n]=!0;const s=n.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${l}`))return;const i=document.createElement("link");if(i.rel=s?"stylesheet":vn,s||(i.as="script",i.crossOrigin=""),i.href=n,document.head.appendChild(i),s)return new Promise((o,c)=>{i.addEventListener("load",o),i.addEventListener("error",c)})})).then(()=>t())},xn=(e,t)=>e===t,De=Symbol("solid-proxy"),ut={equals:xn};let er=sr;const Be={},$e=1,Ct=2,tr={owned:null,cleanups:null,context:null,owner:null},[yn,vc]=F(!1);var W=null;let Ke=null,z=null,Qe=null,J=null,ge=null,_t=0;function je(e,t){t&&(W=t);const r=z,n=W,s=e.length===0?tr:{owned:null,cleanups:null,context:null,owner:n};W=s,z=null;let l;try{It(()=>l=e(()=>Tt(s)),!0)}finally{z=r,W=n}return l}function F(e,t){t=t?Object.assign({},ut,t):ut;const r={value:e,observers:null,observerSlots:null,pending:Be,comparator:t.equals||void 0};return[lr.bind(r),n=>(typeof n=="function"&&(n=n(r.pending!==Be?r.pending:r.value)),Et(r,n))]}function Nt(e,t,r){Ze(ft(e,t,!0,$e))}function O(e,t,r){Ze(ft(e,t,!1,$e))}function Ce(e,t,r){er=Rn;const n=ft(e,t,!1,$e);n.user=!0,ge&&ge.push(n)}function $(e,t,r){r=r?Object.assign({},ut,r):ut;const n=ft(e,t,!0,0);return n.pending=Be,n.observers=null,n.observerSlots=null,n.comparator=r.equals||void 0,Ze(n),lr.bind(n)}function _e(e,t,r){arguments.length===2?typeof t=="object"&&(r=t,t=e,e=!0):arguments.length===1&&(t=e,e=!0);const n=new Set,[s,l]=F((r||{}).initialValue),[i,o]=F(void 0,{equals:!1}),[c,d]=F(!1),[u,h]=F();let m,p=null,g=null,S=typeof e=="function";function _(P,E,T){return p===P&&(h(m=T),p=null,I(E)),E}function I(P){qe(()=>{l(()=>P),d(!1);for(const E of n.keys())E.decrement();n.clear()})}function b(){const P=Nn,E=s();if(m)throw m;return z&&!z.user&&P&&Nt(()=>{i(),p&&(P.resolved||n.has(P)||(P.increment(),n.add(P)))}),E}function y(){h(m=void 0);const P=S?e():e;if(P==null||P===!1){_(p,ie(s));return}const E=g||ie(()=>t(P,s));if(g=null,typeof E!="object"||!("then"in E)){_(p,E);return}p=E,qe(()=>{d(!0),o()}),E.then(T=>_(E,T),T=>_(E,T,T))}return Object.defineProperties(b,{loading:{get(){return c()}},error:{get(){return u()}}}),S?Nt(y):y(),[b,{refetch:y,mutate:l}]}function qe(e){if(Qe)return e();let t;const r=Qe=[];try{t=e()}finally{Qe=null}return It(()=>{for(let n=0;n<r.length;n+=1){const s=r[n];if(s.pending!==Be){const l=s.pending;s.pending=Be,Et(s,l)}}},!1),t}function ie(e){let t,r=z;return z=null,t=e(),z=r,t}function rr(e,t,r){const n=Array.isArray(e);let s,l=r&&r.defer;return i=>{let o;if(n){o=[];for(let d=0;d<e.length;d++)o.push(e[d]())}else o=e();if(l){l=!1;return}const c=ie(()=>t(o,s,i));return s=o,c}}function wn(e){Ce(()=>ie(e))}function Ve(e){return W===null||(W.cleanups===null?W.cleanups=[e]:W.cleanups.push(e)),e}function nr(){return z}function Sn(){return W}function bn(e,t){const r=W;W=e;try{return t()}finally{W=r}}function Pn(e,t){queueMicrotask(()=>{qe(e),t&&t()})}function Cn(){return[yn,Pn]}function dt(e){const t=Symbol("context");return{id:t,Provider:Tn(t),defaultValue:e}}function Ye(e){return cr(W,e.id)||e.defaultValue}function _n(e){const t=$(e);return $(()=>Ot(t()))}let Nn;function lr(){const e=Ke;if(this.sources&&(this.state||e)){const t=J;J=null,this.state===$e||e?Ze(this):Rt(this),J=t}if(z){const t=this.observers?this.observers.length:0;z.sources?(z.sources.push(this),z.sourceSlots.push(t)):(z.sources=[this],z.sourceSlots=[t]),this.observers?(this.observers.push(z),this.observerSlots.push(z.sources.length-1)):(this.observers=[z],this.observerSlots=[z.sources.length-1])}return this.value}function Et(e,t,r){if(e.comparator&&e.comparator(e.value,t))return t;if(Qe)return e.pending===Be&&Qe.push(e),e.pending=t,t;let n=!1;return e.value=t,e.observers&&e.observers.length&&It(()=>{for(let s=0;s<e.observers.length;s+=1){const l=e.observers[s];n&&Ke.disposed.has(l),l.pure?J.push(l):ge.push(l),l.observers&&(n&&!l.tState||!n&&!l.state)&&ir(l),n||(l.state=$e)}if(J.length>1e6)throw J=[],new Error},!1),t}function Ze(e){if(!e.fn)return;Tt(e);const t=W,r=z,n=_t;z=W=e,En(e,e.value,n),z=r,W=t}function En(e,t,r){let n;try{n=e.fn(t)}catch(s){or(s)}(!e.updatedAt||e.updatedAt<=r)&&(e.observers&&e.observers.length?Et(e,n):e.value=n,e.updatedAt=r)}function ft(e,t,r,n=$e,s){const l={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:W,context:null,pure:r};return W===null||W!==tr&&(W.owned?W.owned.push(l):W.owned=[l]),l}function et(e){const t=Ke;if(e.state!==$e)return e.state=0;if(e.suspense&&ie(e.suspense.inFallback))return e.suspense.effects.push(e);const r=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<_t);)(e.state||t)&&r.push(e);for(let n=r.length-1;n>=0;n--)if(e=r[n],e.state===$e||t)Ze(e);else if(e.state===Ct||t){const s=J;J=null,Rt(e),J=s}}function It(e,t){if(J)return e();let r=!1;t||(J=[]),ge?r=!0:ge=[],_t++;try{e()}catch(n){or(n)}finally{In(r)}}function In(e){J&&(sr(J),J=null),!e&&(ge.length?qe(()=>{er(ge),ge=null}):ge=null)}function sr(e){for(let t=0;t<e.length;t++)et(e[t])}function Rn(e){let t,r=0;for(t=0;t<e.length;t++){const s=e[t];s.user?e[r++]=s:et(s)}const n=e.length;for(t=0;t<r;t++)et(e[t]);for(t=n;t<e.length;t++)et(e[t])}function Rt(e){e.state=0;const t=Ke;for(let r=0;r<e.sources.length;r+=1){const n=e.sources[r];n.sources&&(n.state===$e||t?et(n):(n.state===Ct||t)&&Rt(n))}}function ir(e){const t=Ke;for(let r=0;r<e.observers.length;r+=1){const n=e.observers[r];(!n.state||t)&&(n.state=Ct,n.pure?J.push(n):ge.push(n),n.observers&&ir(n))}}function Tt(e){let t;if(e.sources)for(;e.sources.length;){const r=e.sources.pop(),n=e.sourceSlots.pop(),s=r.observers;if(s&&s.length){const l=s.pop(),i=r.observerSlots.pop();n<s.length&&(l.sourceSlots[i]=n,s[n]=l,r.observerSlots[n]=i)}}if(e.owned){for(t=0;t<e.owned.length;t++)Tt(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function or(e){throw e}function cr(e,t){return e&&(e.context&&e.context[t]||e.owner&&cr(e.owner,t))}function Ot(e){if(typeof e=="function"&&!e.length)return Ot(e());if(Array.isArray(e)){const t=[];for(let r=0;r<e.length;r++){const n=Ot(e[r]);Array.isArray(n)?t.push.apply(t,n):t.push(n)}return t}return e}function Tn(e){return function(r){let n;return Nt(()=>n=ie(()=>(W.context={[e]:r.value},_n(()=>r.children)))),n}}const On=Symbol("fallback");function ar(e){for(let t=0;t<e.length;t++)e[t]()}function An(e,t,r={}){let n=[],s=[],l=[],i=0,o=t.length>1?[]:null;return Ve(()=>ar(l)),()=>{let c=e()||[],d,u;return ie(()=>{let m=c.length,p,g,S,_,I,b,y,P,E;if(m===0)i!==0&&(ar(l),l=[],n=[],s=[],i=0,o&&(o=[])),r.fallback&&(n=[On],s[0]=je(T=>(l[0]=T,r.fallback())),i=1);else if(i===0){for(s=new Array(m),u=0;u<m;u++)n[u]=c[u],s[u]=je(h);i=m}else{for(S=new Array(m),_=new Array(m),o&&(I=new Array(m)),b=0,y=Math.min(i,m);b<y&&n[b]===c[b];b++);for(y=i-1,P=m-1;y>=b&&P>=b&&n[y]===c[P];y--,P--)S[P]=s[y],_[P]=l[y],o&&(I[P]=o[y]);for(p=new Map,g=new Array(P+1),u=P;u>=b;u--)E=c[u],d=p.get(E),g[u]=d===void 0?-1:d,p.set(E,u);for(d=b;d<=y;d++)E=n[d],u=p.get(E),u!==void 0&&u!==-1?(S[u]=s[d],_[u]=l[d],o&&(I[u]=o[d]),u=g[u],p.set(E,u)):l[d]();for(u=b;u<m;u++)u in S?(s[u]=S[u],l[u]=_[u],o&&(o[u]=I[u],o[u](u))):s[u]=je(h);s=s.slice(0,i=m),n=c.slice(0)}return s});function h(m){if(l[u]=m,o){const[p,g]=F(u);return o[u]=g,t(c[u],p)}return t(c[u])}}}function a(e,t){return ie(()=>e(t))}function gt(){return!0}const ur={get(e,t,r){return t===De?r:e.get(t)},has(e,t){return e.has(t)},set:gt,deleteProperty:gt,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:gt,deleteProperty:gt}},ownKeys(e){return e.keys()}};function At(e){return typeof e=="function"?e():e}function dr(...e){return new Proxy({get(t){for(let r=e.length-1;r>=0;r--){const n=At(e[r])[t];if(n!==void 0)return n}},has(t){for(let r=e.length-1;r>=0;r--)if(t in At(e[r]))return!0;return!1},keys(){const t=[];for(let r=0;r<e.length;r++)t.push(...Object.keys(At(e[r])));return[...new Set(t)]}},ur)}function fr(e,...t){const r=new Set(t.flat()),n=Object.getOwnPropertyDescriptors(e),s=t.map(l=>{const i={};for(let o=0;o<l.length;o++){const c=l[o];Object.defineProperty(i,c,n[c]?n[c]:{get(){return e[c]}})}return i});return s.push(new Proxy({get(l){return r.has(l)?void 0:e[l]},has(l){return r.has(l)?!1:l in e},keys(){return Object.keys(e).filter(l=>!r.has(l))}},ur)),s}function ht(e){let t;const r=n=>{if(t){const l=t();if(l)return l(n)}else{const[l]=_e(()=>e().then(i=>i.default));t=l}let s;return $(()=>(s=t())&&ie(()=>s(n)))};return r.preload=()=>t||e().then(n=>t=()=>n.default),r}function G(e){const t="fallback"in e&&{fallback:()=>e.fallback};return $(An(()=>e.each,e.children,t||void 0))}function Ue(e){let t=!1;const r=$(()=>e.when,void 0,{equals:(n,s)=>t?n===s:!n==!s});return $(()=>{const n=r();if(n){const s=e.children;return(t=typeof s=="function"&&s.length>0)?ie(()=>s(n)):s}return e.fallback})}const kn=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Ln=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...kn]),Mn=new Set(["innerHTML","textContent","innerText","children"]),Fn={className:"class",htmlFor:"for"},gr={class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"},Dn=new Set(["beforeinput","click","dblclick","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Bn={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function w(e,t){return $(e,void 0,t?void 0:{equals:t})}function hr(e,t,r){let n=r.length,s=t.length,l=n,i=0,o=0,c=t[s-1].nextSibling,d=null;for(;i<s||o<l;){if(t[i]===r[o]){i++,o++;continue}for(;t[s-1]===r[l-1];)s--,l--;if(s===i){const u=l<n?o?r[o-1].nextSibling:r[l-o]:c;for(;o<l;)e.insertBefore(r[o++],u)}else if(l===o)for(;i<s;)(!d||!d.has(t[i]))&&e.removeChild(t[i]),i++;else if(t[i]===r[l-1]&&r[o]===t[s-1]){const u=t[--s].nextSibling;e.insertBefore(r[o++],t[i++].nextSibling),e.insertBefore(r[--l],u),t[s]=r[l]}else{if(!d){d=new Map;let h=o;for(;h<l;)d.set(r[h],h++)}const u=d.get(t[i]);if(u!=null)if(o<u&&u<l){let h=i,m=1,p;for(;++h<s&&h<l&&!((p=d.get(t[h]))==null||p!==u+m);)m++;if(m>u-o){const g=t[i];for(;o<u;)e.insertBefore(r[o++],g)}else e.replaceChild(r[o++],t[i++])}else i++;else e.removeChild(t[i++])}}}const mr="_$DX_DELEGATE";function jn(e,t,r){let n;return je(s=>{n=s,f(t,e(),t.firstChild?null:void 0,r)}),()=>{n(),t.textContent=""}}function x(e,t,r){const n=document.createElement("template");n.innerHTML=e;let s=n.content.firstChild;return r&&(s=s.firstChild),s}function Y(e,t=window.document){const r=t[mr]||(t[mr]=new Set);for(let n=0,s=e.length;n<s;n++){const l=e[n];r.has(l)||(r.add(l),t.addEventListener(l,Gn))}}function Ne(e,t,r){r==null?e.removeAttribute(t):e.setAttribute(t,r)}function Vn(e,t,r,n){n==null?e.removeAttributeNS(t,r):e.setAttributeNS(t,r,n)}function tt(e,t,r,n){n?Array.isArray(r)?(e[`$$${t}`]=r[0],e[`$$${t}Data`]=r[1]):e[`$$${t}`]=r:Array.isArray(r)?e.addEventListener(t,s=>r[0](r[1],s)):e.addEventListener(t,r)}function Un(e,t,r={}){const n=Object.keys(t||{}),s=Object.keys(r);let l,i;for(l=0,i=s.length;l<i;l++){const o=s[l];!o||o==="undefined"||t[o]||($r(e,o,!1),delete r[o])}for(l=0,i=n.length;l<i;l++){const o=n[l],c=!!t[o];!o||o==="undefined"||r[o]===c||!c||($r(e,o,!0),r[o]=c)}return r}function pr(e,t,r={}){const n=e.style;if(t==null||typeof t=="string")return n.cssText=t;typeof r=="string"&&(r={});let s,l;for(l in r)t[l]==null&&n.removeProperty(l),delete r[l];for(l in t)s=t[l],s!==r[l]&&(n.setProperty(l,s),r[l]=s);return r}function vr(e,t,r,n){typeof t=="function"?O(s=>xr(e,t(),s,r,n)):xr(e,t,void 0,r,n)}function f(e,t,r,n){if(r!==void 0&&!n&&(n=[]),typeof t!="function")return We(e,t,n,r);O(s=>We(e,t(),s,r),n)}function Wn(e,t,r,n,s={}){let l,i,o;for(const c in t){if(c==="children"){n||We(e,t.children);continue}const d=t[c];if(d!==s[c]){if(c==="style")pr(e,d,s[c]);else if(c==="classList")Un(e,d,s[c]);else if(c==="ref")d(e);else if(c.slice(0,3)==="on:")e.addEventListener(c.slice(3),d);else if(c.slice(0,10)==="oncapture:")e.addEventListener(c.slice(10),d,!0);else if(c.slice(0,2)==="on"){const u=c.slice(2).toLowerCase(),h=Dn.has(u);tt(e,u,d,h),h&&Y([u])}else if((o=Mn.has(c))||!r&&(gr[c]||(i=Ln.has(c)))||(l=e.nodeName.includes("-")))l&&!i&&!o?e[zn(c)]=d:e[gr[c]||c]=d;else{const u=r&&c.indexOf(":")>-1&&Bn[c.split(":")[0]];u?Vn(e,u,c,d):Ne(e,Fn[c]||c,d)}s[c]=d}}}function zn(e){return e.toLowerCase().replace(/-([a-z])/g,(t,r)=>r.toUpperCase())}function $r(e,t,r){const n=t.trim().split(/\s+/);for(let s=0,l=n.length;s<l;s++)e.classList.toggle(n[s],r)}function Gn(e){const t=`$$${e.type}`;let r=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==r&&Object.defineProperty(e,"target",{configurable:!0,value:r}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return r}});r!==null;){const n=r[t];if(n&&!r.disabled){const s=r[`${t}Data`];if(s!==void 0?n(s,e):n(e),e.cancelBubble)return}r=r.host&&r.host!==r&&r.host instanceof Node?r.host:r.parentNode}}function xr(e,t,r={},n,s){return!s&&"children"in t&&O(()=>r.children=We(e,t.children,r.children)),O(()=>Wn(e,t,n,!0,r)),r}function We(e,t,r,n,s){for(;typeof r=="function";)r=r();if(t===r)return r;const l=typeof t,i=n!==void 0;if(e=i&&r[0]&&r[0].parentNode||e,l==="string"||l==="number")if(l==="number"&&(t=t.toString()),i){let o=r[0];o&&o.nodeType===3?o.data=t:o=document.createTextNode(t),r=rt(e,r,n,o)}else r!==""&&typeof r=="string"?r=e.firstChild.data=t:r=e.textContent=t;else if(t==null||l==="boolean")r=rt(e,r,n);else{if(l==="function")return O(()=>{let o=t();for(;typeof o=="function";)o=o();r=We(e,o,r,n)}),()=>r;if(Array.isArray(t)){const o=[];if(kt(o,t,s))return O(()=>r=We(e,o,r,n,!0)),()=>r;if(o.length===0){if(r=rt(e,r,n),i)return r}else Array.isArray(r)?r.length===0?yr(e,o,n):hr(e,r,o):r==null||r===""?yr(e,o):hr(e,i&&r||[e.firstChild],o);r=o}else if(t instanceof Node){if(Array.isArray(r)){if(i)return r=rt(e,r,n,t);rt(e,r,null,t)}else r==null||r===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);r=t}}return r}function kt(e,t,r){let n=!1;for(let s=0,l=t.length;s<l;s++){let i=t[s],o;if(i instanceof Node)e.push(i);else if(!(i==null||i===!0||i===!1))if(Array.isArray(i))n=kt(e,i)||n;else if((o=typeof i)==="string")e.push(document.createTextNode(i));else if(o==="function")if(r){for(;typeof i=="function";)i=i();n=kt(e,Array.isArray(i)?i:[i])||n}else e.push(i),n=!0;else e.push(document.createTextNode(i.toString()))}return n}function yr(e,t,r){for(let n=0,s=t.length;n<s;n++)e.insertBefore(t[n],r)}function rt(e,t,r,n){if(r===void 0)return e.textContent="";const s=n||document.createTextNode("");if(t.length){let l=!1;for(let i=t.length-1;i>=0;i--){const o=t[i];if(s!==o){const c=o.parentNode===e;!l&&!i?c?e.replaceChild(s,o):e.insertBefore(s,r):c&&e.removeChild(o)}else l=!0}}else e.insertBefore(s,r);return[s]}const Hn="http://www.w3.org/2000/svg";function Xn(e,t=!1){return t?document.createElementNS(Hn,e):document.createElement(e)}function Jn(e){const{useShadow:t}=e,r=document.createTextNode(""),n=e.mount||document.body;function s(){return()=>e.children}if(n instanceof HTMLHeadElement){const[l,i]=F(!1),o=()=>i(!0);je(c=>f(n,()=>l()?c():s()(),null)),Ve(()=>{o()})}else{const l=Xn(e.isSVG?"g":"div",e.isSVG),i=t&&l.attachShadow?l.attachShadow({mode:"open"}):l;Object.defineProperty(l,"host",{get(){return r.parentNode}}),f(i,s()),n.appendChild(l),e.ref&&e.ref(l),Ve(()=>n.removeChild(l))}return r}function Kn(e,t,r){return e.addEventListener(t,r),()=>e.removeEventListener(t,r)}function Qn([e,t],r,n){return[r?()=>r(e()):e,n?s=>t(n(s)):t]}function qn(e,t,r,n){let s=!1;const l=Qn(F({value:e()},{equals:(i,o)=>i.value===o.value}),void 0,i=>(!s&&t(i),i));return r&&Ve(r((i=e())=>{s=!0,l[1]({value:i}),s=!1})),{signal:l,utils:n}}function Yn(e){if(e){if(Array.isArray(e))return{signal:e}}else return{signal:F({value:""})};return e}function Zn(){return qn(()=>window.location.pathname+window.location.search+window.location.hash,({value:e,replace:t,scroll:r})=>{t?window.history.replaceState(null,"",e):window.history.pushState(null,"",e),r&&window.scrollTo(0,0)},e=>Kn(window,"popstate",()=>e()))}const el=/^(?:[a-z0-9]+:)?\/\//i,tl=/^\/+|\/+$|\s+/;function Lt(e){const t=e.replace(tl,"");return t?"/"+t:""}function mt(e,t,r){if(el.test(t))return;const n=Lt(e),s=r&&Lt(r);let l="";return!s||t.charAt(0)==="/"?l=n:s.toLowerCase().indexOf(n.toLowerCase())!==0?l=n+s:l=s,l+Lt(t)||"/"}function rl(e,t){if(e==null)throw new Error(t);return e}function nl(e,t){return`${e.replace(/[/*]+$/,"")}/${t.replace(/^\/+/,"")}`}function ll(e){const t={};return e.searchParams.forEach((r,n)=>{t[n]=r}),t}function sl(e,t){const[r,n]=e.split("/*",2),s=r.split("/").filter(Boolean),l=s.length;return i=>{const o=i.split("/").filter(Boolean),c=o.length-l;if(c<0||c>0&&n===void 0&&!t)return null;const d={path:l?"":"/",params:{}};for(let u=0;u<l;u++){const h=s[u],m=o[u];if(h[0]===":")d.params[h.slice(1)]=m;else if(h.localeCompare(m,void 0,{sensitivity:"base"})!==0)return null;d.path+=`/${m}`}return n&&(d.params[n]=c?o.slice(-c).join("/"):""),d}}function il(e){const[t,r]=e.pattern.split("/*",2),n=t.split("/").filter(Boolean);return n.reduce((s,l)=>s+(l.startsWith(":")?2:3),n.length-(r===void 0?0:1))}function wr(e){const t=new Map,r=Sn();return new Proxy({},{get(n,s){return(t.get(s)||bn(r,()=>{const i=$(()=>e()[s]);return t.set(s,i),i}))()}})}const ol=100,Sr=dt(),pt=dt(),nt=()=>rl(Ye(Sr),"Make sure your app is wrapped in a <Router />"),Mt=()=>Ye(pt)||nt().base,br=e=>{const t=Mt();return $(()=>t.resolvePath(e()))},cl=e=>{const t=nt();return $(()=>{const r=e();return r!==void 0?t.renderPath(r):r})},al=()=>nt().navigatorFactory(),Pr=()=>nt().location;function ul(e,t="",r){const{path:n,component:s,data:l,children:i}=e,o=!i||Array.isArray(i)&&!i.length,c=nl(t,n),d=o?c:c.split("/*",1)[0];return{originalPath:n,pattern:d,element:s?()=>a(s,{}):()=>{const{element:u}=e;return u===void 0&&r?a(r,{}):u},preload:e.component?s.preload:e.preload,data:l,matcher:sl(d,!o)}}function dl(e,t=0){return{routes:e,score:il(e[e.length-1])*1e4-t,matcher(r){const n=[];for(let s=e.length-1;s>=0;s--){const l=e[s],i=l.matcher(r);if(!i)return null;n.unshift({...i,route:l})}return n}}}function Cr(e,t="",r,n=[],s=[]){const l=Array.isArray(e)?e:[e];for(let i=0,o=l.length;i<o;i++){const c=l[i],d=ul(c,t,r);if(n.push(d),c.children)Cr(c.children,d.pattern,r,n,s);else{const u=dl([...n],s.length);s.push(u)}n.pop()}return n.length?s:s.sort((i,o)=>o.score-i.score)}function fl(e,t){for(let r=0,n=e.length;r<n;r++){const s=e[r].matcher(t);if(s)return s}return[]}function gl(e){const t=new URL("http://sar"),r=$(c=>{const d=e();try{return new URL(d,t)}catch{return console.error(`Invalid path ${d}`),c}},t,{equals:(c,d)=>c.href===d.href}),n=$(()=>r().pathname),s=$(()=>r().search.slice(1)),l=$(()=>r().hash.slice(1)),i=$(()=>null),o=$(()=>"");return{get pathname(){return n()},get search(){return s()},get hash(){return l()},get state(){return i()},get key(){return o()},query:wr(rr(s,()=>ll(r())))}}function hl(e,t="",r,n){const{signal:[s,l],utils:i}=Yn(e),o=mt("",t),c=void 0;if(o===void 0)throw new Error(`${o} is not a valid base path`);o&&!s().value&&l({value:o,replace:!0,scroll:!1});const[d,u]=Cn(),[h,m]=F(s().value),p=gl(h),g=[],S={pattern:o,params:{},path:()=>o,outlet:()=>null,resolvePath(y){return mt(o,y)}};r&&(S.data=r({params:{},location:p,navigate:I(S)}));function _(y,P,E){ie(()=>{if(typeof P=="number"){console.warn("Relative navigation is not implemented - doing nothing :)");return}const{replace:T,resolve:A,scroll:L}={replace:!1,resolve:!0,scroll:!0,...E},K=A?y.resolvePath(P):mt("",P);if(K===void 0)throw new Error(`Path '${P}' is not a routable path`);if(g.length>=ol)throw new Error("Too many redirects");const X=h();if(K!==X){const re=g.push({value:X,replace:T,scroll:L});u(()=>m(K),()=>{g.length===re&&b(K)})}})}function I(y){return y=y||Ye(pt)||S,(P,E)=>_(y,P,E)}function b(y){const P=g[0];P&&(y!==P.value&&l({value:y,replace:P.replace,scroll:P.scroll}),g.length=0)}return O(()=>{const y=s().value;y!==ie(h)&&u(()=>m(y))}),{base:S,out:c,location:p,isRouting:d,renderPath:i&&i.renderPath||(y=>y),navigatorFactory:I}}function ml(e,t,r,n){const{base:s,location:l,navigatorFactory:i}=e,{pattern:o,element:c,preload:d,data:u}=n().route,h=$(()=>n().path),m=wr(()=>n().params);d&&d();const p={parent:t,pattern:o,get child(){return r()},path:h,params:m,outlet:c,resolvePath(g){return mt(s.path(),g,h())}};return u&&(p.data=u({params:m,location:l,navigate:i(p)})),p}const pl=x("<a></a>"),vl=e=>{const{source:t,url:r,base:n,data:s,out:l}=e,i=t||Zn(),o=hl(i,n,s);return a(Sr.Provider,{value:o,get children(){return e.children}})},$l=e=>{const t=nt(),r=Mt(),n=br(()=>e.base||""),s=$(()=>Cr(e.children,n()||"",xl)),l=$(()=>fl(s(),t.location.pathname));t.out&&t.out.matches.push(l().map(({route:d,path:u,params:h})=>({originalPath:d.originalPath,pattern:d.pattern,path:u,params:h})));const i=[];let o;const c=$(rr(l,(d,u,h)=>{let m=u&&d.length===u.length;const p=[];for(let g=0,S=d.length;g<S;g++){const _=u&&u[g],I=d[g];h&&_&&I.route.pattern===_.route.pattern?p[g]=h[g]:(m=!1,i[g]&&i[g](),je(b=>{i[g]=b,p[g]=ml(t,p[g-1]||r,()=>c()[g+1],()=>l()[g])}))}return i.splice(d.length).forEach(g=>g()),h&&m?h:(o=p[0],p)}));return a(Ue,{get when(){return c()&&o},children:d=>a(pt.Provider,{value:d,get children(){return d.outlet()}})})},ze=e=>e,xl=()=>{const e=Mt();return a(Ue,{get when(){return e.child},children:t=>a(pt.Provider,{value:t,get children(){return t.outlet()}})})};function yl(e){const[,t]=fr(e,["children","to","href","onClick"]),r=al(),n=cl(()=>e.to),s=l=>{const{onClick:i,to:o,target:c}=e;typeof i=="function"?i(l):i&&i[0](i[1],l),o!==void 0&&!l.defaultPrevented&&l.button===0&&(!c||c==="_self")&&!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)&&(l.preventDefault(),r(o,{resolve:!1,replace:e.replace||!1,scroll:!e.noScroll}))};return(()=>{const l=pl.cloneNode(!0);return l.$$click=s,vr(l,t,!1,!0),f(l,()=>e.children),O(()=>Ne(l,"href",n()||e.href)),l})()}function _r(e){e=dr({activeClass:"active"},e);const[,t]=fr(e,["activeClass","end"]),r=Pr(),n=br(()=>e.href),s=$(()=>{const l=n();if(l===void 0)return!1;const i=l.split(/[?#]/,1)[0].toLowerCase(),o=r.pathname.toLowerCase();return e.end?i===o:o.startsWith(i)});return a(yl,dr(t,{get to(){return n()},get classList(){return{[e.activeClass]:s()}},get["aria-current"](){return s()?"page":void 0}}))}Y(["click"]);var Nr={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var n=[],s=0;s<arguments.length;s++){var l=arguments[s];if(!!l){var i=typeof l;if(i==="string"||i==="number")n.push(l);else if(Array.isArray(l)){if(l.length){var o=r.apply(null,l);o&&n.push(o)}}else if(i==="object")if(l.toString===Object.prototype.toString)for(var c in l)t.call(l,c)&&l[c]&&n.push(c);else n.push(l.toString())}}return n.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(Nr);var B=Nr.exports,wl="/assets/eco-icon.bc7a73ed.ico";const Sl=x('<nav class="bg-gray-800"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex items-center justify-between h-16"><div class="flex items-center"><div class="flex-shrink-0"><img class="h-8 w-8" alt="Workflow"></div><div class="hidden md:block"><div class="ml-10 flex items-baseline space-x-4"></div></div></div><div class="-mr-2 flex md:hidden"><button type="button" class="bg-gray-800 inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white" aria-controls="mobile-menu" aria-expanded="false"><span class="sr-only">Open main menu</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div></div></div><div id="mobile-menu"><div class="px-2 pt-2 pb-3 space-y-1 sm:px-3"></div></div></nav>');var bl=e=>{const[t,r]=F(!1);return(()=>{const n=Sl.cloneNode(!0),s=n.firstChild,l=s.firstChild,i=l.firstChild,o=i.firstChild,c=o.firstChild,d=o.nextSibling,u=d.firstChild,h=i.nextSibling,m=h.firstChild,p=m.firstChild,g=p.nextSibling,S=g.nextSibling,_=s.nextSibling,I=_.firstChild;return Ne(c,"src",wl),f(u,()=>e.routes.map(b=>a(_r,{get href(){return b.href},end:!0,get class(){return B("px-3 py-2 rounded-md text-sm font-medium",{"bg-gray-900 text-white":b.highlight,"text-gray-300 hover:bg-gray-700 hover:text-white":!b.highlight})},get["aria-current"](){return b.highlight?"page":void 0},get children(){return b.text}}))),m.$$click=()=>r(b=>!b),f(I,()=>e.routes.map(b=>a(_r,{get href(){return b.href},end:!0,get class(){return B("block px-3 py-2 rounded-md text-base font-medium",{"bg-gray-900 text-white":b.highlight,"text-gray-300 hover:bg-gray-700 hover:text-white":!b.highlight})},get["aria-current"](){return b.highlight?"page":void 0},get children(){return b.text}}))),O(b=>{const y=B("h-6 w-6",{block:!t(),hidden:t()}),P=B("h-6 w-6",{block:t(),hidden:!t()}),E=B("md:hidden",{block:t(),hidden:!t()});return y!==b._v$&&Ne(g,"class",b._v$=y),P!==b._v$2&&Ne(S,"class",b._v$2=P),E!==b._v$3&&(_.className=b._v$3=E),b},{_v$:void 0,_v$2:void 0,_v$3:void 0}),n})()};Y(["click"]);const Ft=Symbol("store-raw"),vt=Symbol("store-node"),Pl=Symbol("store-name");function Er(e,t){let r=e[De];if(!r){Object.defineProperty(e,De,{value:r=new Proxy(e,Nl)});const n=Object.keys(e),s=Object.getOwnPropertyDescriptors(e);for(let l=0,i=n.length;l<i;l++){const o=n[l];if(s[o].get){const c=s[o].get.bind(r);Object.defineProperty(e,o,{get:c})}}}return r}function Ge(e){return e!=null&&typeof e=="object"&&(!e.__proto__||e.__proto__===Object.prototype||Array.isArray(e))}function lt(e,t=new Set){let r,n,s,l;if(r=e!=null&&e[Ft])return r;if(!Ge(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let i=0,o=e.length;i<o;i++)s=e[i],(n=lt(s,t))!==s&&(e[i]=n)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const i=Object.keys(e),o=Object.getOwnPropertyDescriptors(e);for(let c=0,d=i.length;c<d;c++)l=i[c],!o[l].get&&(s=e[l],(n=lt(s,t))!==s&&(e[l]=n))}return e}function $t(e){let t=e[vt];return t||Object.defineProperty(e,vt,{value:t={}}),t}function Cl(e,t){const r=Reflect.getOwnPropertyDescriptor(e,t);return!r||r.get||t===De||t===vt||t===Pl||(delete r.value,delete r.writable,r.get=()=>e[De][t]),r}function _l(e){if(nr()){const t=$t(e);(t._||(t._=Dt()))()}return Reflect.ownKeys(e)}function Dt(){const[e,t]=F(void 0,{equals:!1,internal:!0});return e.$=t,e}const Nl={get(e,t,r){if(t===Ft)return e;if(t===De)return r;const n=e[t];if(t===vt||t==="__proto__")return n;const s=Ge(n);if(nr()&&(typeof n!="function"||e.hasOwnProperty(t))){let l,i;s&&(l=$t(n))&&(i=l._||(l._=Dt()),i()),l=$t(e),i=l[t]||(l[t]=Dt()),i()}return s?Er(n):n},set(){return!0},deleteProperty(){return!0},ownKeys:_l,getOwnPropertyDescriptor:Cl};function xt(e,t,r){if(e[t]===r)return;const n=Array.isArray(e),s=e.length,l=r===void 0,i=n||l===t in e;l?delete e[t]:e[t]=r;let o=$t(e),c;(c=o[t])&&c.$(),n&&e.length!==s&&(c=o.length)&&c.$(),i&&(c=o._)&&c.$()}function El(e,t){const r=Object.keys(t);for(let n=0;n<r.length;n+=1){const s=r[n];xt(e,s,t[s])}}function st(e,t,r=[]){let n,s=e;if(t.length>1){n=t.shift();const i=typeof n,o=Array.isArray(e);if(Array.isArray(n)){for(let c=0;c<n.length;c++)st(e,[n[c]].concat(t),[n[c]].concat(r));return}else if(o&&i==="function"){for(let c=0;c<e.length;c++)n(e[c],c)&&st(e,[c].concat(t),[c].concat(r));return}else if(o&&i==="object"){const{from:c=0,to:d=e.length-1,by:u=1}=n;for(let h=c;h<=d;h+=u)st(e,[h].concat(t),[h].concat(r));return}else if(t.length>1){st(e[n],t,[n].concat(r));return}s=e[n],r=[n].concat(r)}let l=t[0];typeof l=="function"&&(l=l(s,r),l===s)||n===void 0&&l==null||(l=lt(l),n===void 0||Ge(s)&&Ge(l)&&!Array.isArray(l)?El(s,l):xt(e,n,l))}function Il(e,t){const r=lt(e||{}),n=Er(r);function s(...l){qe(()=>st(r,l))}return[n,s]}const Ir={get(e,t){if(t===Ft)return e;const r=e[t];return Ge(r)?new Proxy(r,Ir):r},set(e,t,r){return xt(e,t,lt(r)),!0},deleteProperty(e,t){return xt(e,t,void 0),!0}};function Rr(e){return t=>{const r=t;return Ge(r)&&e(new Proxy(r,Ir)),r}}function ae(e,t){const[r,n]=Il(e);return localStorage[t]&&n(JSON.parse(localStorage[t])),Ce(()=>localStorage[t]=JSON.stringify(r)),[r,n]}const Rl=/(<([^>]+)>)/gi,Tl=e=>e.replace(Rl,""),he=(e,t)=>e.length===0||t?.toLowerCase()?.indexOf(e?.toLowerCase())>=0,Tr=(e,t)=>e.length===0||t?.toLowerCase()===e?.toLowerCase(),Oe=(e,t)=>e.length===0||e[0].length===0||e.some(r=>t.includes(r)),Bt=(e,t,r)=>r.indexOf(e)===t,Or=(e,t,r)=>r?.slice((e-1)*t,e*t),Ar=(e,t)=>Math.ceil((t?.length??0)/e),j=e=>+e.toFixed(2),Ae=(e,t)=>e.toLowerCase().localeCompare(t.toLowerCase()),Ol=e=>(t,r)=>e(t).toLowerCase().localeCompare(e(r).toLowerCase()),Al=e=>(t,r)=>{const n=t.indexOf(e)>=0,s=r.indexOf(e)>=0;return n&&s||!n&&!s?t.toLowerCase().localeCompare(r.toLowerCase()):n?1:-1},kl=e=>{const t=e.reduce((r,n)=>({sum:r.sum+n.price*n.quantity,count:r.count+n.quantity}),{sum:0,count:0});return t.count>0?j(t.sum/t.count):null},Ll=(e,t)=>Math.ceil(e*t),kr=(e,t)=>t?j(e*t):0,Ml=e=>1/(1-e/100),Fl=e=>{const t=Math.floor(100/e.Products.length);return e.Products.map((r,n)=>({prod:r.Name,perc:n!==e.Products.length-1?t:100-(e.Products.length-1)*t}))},Lr=(e,t,r)=>{let n=r;return e.map((s,l)=>{let i=s.prod===t?r:s.perc;return s.prod!==t&&(n+i>100&&(i=100-n),n+=i),l===e.length-1&&(i+=100-n),{...s,perc:i}})},He=e=>`T_${e}`,ue=e=>`I_${e}`,de=e=>e.IsSpecificItem?ue(e.Name):He(e.Tag),jt=e=>e.IsSpecificItem?e.Name:`Tag ${e.Tag}`,Dl=e=>e.startsWith(ue(""))?{IsSpecificItem:!0,Name:e.substring(ue("").length),Tag:""}:e.startsWith(He(""))?{IsSpecificItem:!1,Name:"",Tag:e.substring(He("").length)}:{IsSpecificItem:!0,Name:"old_"+e,Tag:""},Bl=e=>new Date(e.Year,e.Month-1,e.Day,e.Hour,e.Min,e.Sec),Mr=(e,t,r)=>{const n=e?.filter(l=>r.includes(l.ItemName)&&l.CurrencyName===t)??[],s=n.filter(l=>!l.Buying&&l.Quantity>0);return{Offers:n,AvgPrice:kl(s?.map(l=>({price:l.Price,quantity:l.Quantity}))??[])}},Fr={readServer:".netlify/functions/servers",readDB:(e,t)=>`.netlify/functions/files?server=${e}&file=${t}`};async function ke(e){try{return await(await fetch(e)).json()}catch{}}const jl=(e,t)=>ke(Fr.readDB(e,t)),Vl=()=>ke(Fr.readServer),Ul=e=>ke("/data/Stores.json").then(t=>t?{...t,Stores:t?.Stores?.map(r=>({...r,Name:Tl(r.Name)}))}:void 0),Wl=e=>ke("/data/Recipes.json"),zl=e=>ke("/data/Tags.json"),Gl=e=>ke("/data/AllItems.json"),Hl=e=>ke("/data/CraftingTables.json"),Dr=dt({serversResource:void 0,storesResource:void 0,recipesResource:void 0,tagsResource:void 0,craftingTablesResource:void 0,currentServer:()=>"",isLoadingResources:()=>!0,dbs:()=>[],currentCurrency:()=>"",allCurrencies:()=>[],allProfessions:()=>[],allCraftingTables:()=>[],allProductsInStores:()=>[],allCraftableProducts:()=>({}),allCraftableProductsWithOffers:()=>[],allItemsAndTagsWithPrice:()=>({}),allTablesPerUser:()=>({}),mainState:{server:"",currency:"",userName:"",calorieCost:0,costPer1kJoule:0},forceRefetch:{servers:()=>{},stores:()=>{},recipes:()=>{},tags:()=>{},allItems:()=>{},craftingTables:()=>{}},get:{personalPrice:e=>0,craftAmmount:e=>1,craftModule:e=>0,craftLavish:e=>!0,calorieCostPerRecipe:e=>0,recipeMargin:e=>0,costPercentage:e=>[],craftLevel:e=>0,itemsInTag:e=>[]},getState:{personalPrice:{}},update:{server:()=>{},currency:()=>{},userName:()=>{},personalPrice:(e,t,r)=>{},craftAmmount:(e,t)=>{},craftModule:(e,t)=>{},craftLavish:(e,t)=>{},craftLevel:(e,t)=>{},recipeMargin:(e,t)=>{},costPercentage:()=>{},calorieCost:e=>{},costPer1kJoule:e=>{}},clear:{personalPriceCurrency:(e,t)=>{},personalPriceProduct:e=>{},personalCurrency:e=>{}}}),Xl=e=>{const[t,r]=ae({},"PersonalPricesStore"),[n,s]=ae({},"craftAmmountStore"),[l,i]=ae({},"craftModuleStore"),[o,c]=ae({},"craftLavishStore"),[d,u]=ae({},"craftLevelStore"),[h,m]=ae({},"recipeMarginStore"),[p,g]=ae({},"CostPercentagesStore"),[S,_]=ae({server:"local",currency:"",userName:"",calorieCost:0,costPer1kJoule:0},"MainStore"),[I,{refetch:b}]=_e(Vl),y=$(()=>(I?.()??[])?.map(v=>v.key).includes(S.server)?S.server:I?.()?.length??0>0?I()?.[0].key??"":S.server),[P,{refetch:E}]=_e(y,Ul),[T,{refetch:A}]=_e(y,Wl),[L,{refetch:K}]=_e(y,zl),[X,{refetch:re}]=_e(y,Gl),[ne,{refetch:le}]=_e(y,Hl),pe=$(()=>Object.entries(X()?.AllItems??{}).reduce((v,C)=>(C[1]?.Tags?.forEach(M=>{v[M]=[...v?.[M]??[],C[0]]}),v),{})),Se=$(()=>!P()||!T()||!L()||!ne()),se=$(()=>P()?.Stores?.map(v=>v.CurrencyName).filter(Bt).sort(Al("Credit"))),oe=$(()=>{if(se()?.includes(S.currency))return S.currency;if(S.userName.length>0){const v=se()?.find(C=>C.indexOf(S.userName)===1);if(v)return v}return se()?.[0]??""}),be=$(()=>P()?.Stores?.map(v=>v.AllOffers.map(C=>({...C,StoreName:v.Name,StoreOwner:v.Owner,CurrencyName:v.CurrencyName}))).flat().sort((v,C)=>{const M=v.ItemName?.toLowerCase().localeCompare(C.ItemName?.toLowerCase());return M!==0?M:v.Buying?1:-1})),ve=$(()=>T()?.Recipes?.map(v=>v.Variants.map(C=>C.Products.map(M=>({Name:M.Name,Recipe:v,Variant:C})))?.flat())?.flat()?.reduce((v,C)=>({...v,[C.Name]:{Name:C.Name,RecipeVariants:[...v[C.Name]?.RecipeVariants??[],{Recipe:C.Recipe,Variant:C.Variant}]}}),{})??{}),ot=$(()=>Object.values(ve()).map(v=>({...v,Offers:be()?.filter(C=>C.ItemName===v.Name)})).map(v=>{for(let C=0;C<v.RecipeVariants.length;++C){const M=v.RecipeVariants[C];v.RecipeVariants.findIndex((Fe,mn)=>Fe.Variant.Key==M.Variant.Key&&C!=mn)>=0&&(M.Variant.Key+=""+C)}return v}).sort((v,C)=>v.Name?.toLowerCase()?.localeCompare(C.Name?.toLowerCase()??"")??0)),ct=$(()=>T()?.Recipes?.map(v=>v.SkillNeeds.map(C=>C.Skill)).flat().filter(Bt).sort(Ae)),Yt=$(()=>T()?.Recipes?.map(v=>v.CraftingTable).filter(Bt).sort(Ae)),R=$(()=>Object.keys(X()?.AllItems??{}).reduce((v,C)=>(v[C]===void 0&&(v[C]={Name:C,RecipeVariants:ve()[C]?.RecipeVariants??[]}),v),{})),D=$(()=>Object.entries(R()).reduce((v,[C,M])=>(v[ue(C)]={Name:M.Name,IsSpecificItem:!0,...Mr(be(),oe(),[M.Name])},v),{})),Pe=$(()=>Object.entries(pe()).reduce((v,[C,M])=>(v[He(C)]={Name:C,IsSpecificItem:!1,...Mr(be(),oe(),M)},v),{})),Te=$(()=>({...D(),...Pe()})),ce=$(()=>ne()?.CraftingTables?.reduce((v,C)=>(v[C.OwnerName]=[...v[C.OwnerName]??[],C],v),{})),q={serversResource:I,storesResource:P,recipesResource:T,tagsResource:L,craftingTablesResource:ne,currentServer:y,isLoadingResources:Se,currentCurrency:oe,allCurrencies:se,allProfessions:ct,allCraftingTables:Yt,allProductsInStores:be,allCraftableProducts:ve,allCraftableProductsWithOffers:ot,allItemsAndTagsWithPrice:Te,allTablesPerUser:ce,mainState:S,forceRefetch:{servers:b,stores:E,recipes:A,tags:K,allItems:re,craftingTables:le},get:{personalPrice:v=>t[v??""]?.[oe()],craftAmmount:v=>n[v??""]??1,craftModule:v=>l[v??""]??0,craftLavish:v=>o[v??""],craftLevel:v=>d[v??""]??0,recipeMargin:v=>h[v??""]??0,costPercentage:v=>p[v??""],itemsInTag:v=>pe()?.[v]?.map(C=>({Name:C,...X()?.AllItems[C]}))??[]},getState:{personalPrice:t},update:{server:v=>_({server:v}),currency:v=>_({currency:v}),userName:v=>{if(oe().length==0||se()?.filter(C=>C===oe()).length===0){const C=se()?.find(M=>M.indexOf(v)===1);C&&_({currency:C})}_({userName:v})},personalPrice:(v,C,M)=>r(Fe=>({[v]:{...Fe[v]??{},[C]:M}})),craftAmmount:(v,C)=>s({[v]:C}),craftModule:(v,C)=>i({[v]:C}),craftLavish:(v,C)=>c({[v]:C}),craftLevel:(v,C)=>u({[v]:C}),recipeMargin:(v,C)=>m({[v]:C}),costPercentage:(v,C)=>g(M=>({...M,[v]:C})),calorieCost:v=>_({calorieCost:v}),costPer1kJoule:v=>_({costPer1kJoule:v})},clear:{personalPriceCurrency:(v,C)=>r(Rr(M=>{delete M[v][C],Object.keys(M[v]).length===0&&delete M[v]})),personalPriceProduct:v=>r(v,()=>{}),personalCurrency:v=>r(Rr(C=>{Object.entries(C).forEach(([M,Fe])=>{delete Fe[v],Object.keys(Fe).length===0&&delete C[M]})}))}};return a(Dr.Provider,{value:q,get children(){return e.children}})},U=()=>Ye(Dr),Jl=x('<div class="flex flex-col flex-grow"><div class="-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"><div class="py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"><div class="shadow overflow-hidden border border-gray-200 sm:rounded-lg"><table class="min-w-full divide-y divide-gray-200"></table></div></div></div></div>');var Z=e=>(()=>{const t=Jl.cloneNode(!0),r=t.firstChild,n=r.firstChild,s=n.firstChild,l=s.firstChild;return f(l,()=>e.children),t})();const Kl=x('<tbody class="bg-white divide-y divide-gray-200"></tbody>');var ee=e=>(()=>{const t=Kl.cloneNode(!0);return f(t,()=>e.children),t})();const Ql=x('<thead class="bg-gray-50"><tr></tr></thead>');var te=e=>(()=>{const t=Ql.cloneNode(!0),r=t.firstChild;return f(r,()=>e.children),t})();const ql="_sortableLink_h1sbs_1",Yl="_sortIcon_h1sbs_15",Zl="_sorted_h1sbs_23";var Vt={sortableLink:ql,sortIcon:Yl,sorted:Zl};const es=x('<th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap"></th>'),ts=x("<a><div></div></a>"),rs=x('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"><path d="M12 3.202l3.839 4.798h-7.678l3.839-4.798zm0-3.202l-8 10h16l-8-10zm3.839 16l-3.839 4.798-3.839-4.798h7.678zm4.161-2h-16l8 10 8-10z"></path></svg>'),ns=x('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"><path d="M12 3.202l3.839 4.798h-7.678l3.839-4.798zm0-3.202l-8 10h16l-8-10zm8 14h-16l8 10 8-10z"></path></svg>'),ls=x('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"><path d="M12 0l-8 10h16l-8-10zm3.839 16l-3.839 4.798-3.839-4.798h7.678zm4.161-2h-16l8 10 8-10z"></path></svg>');var N=e=>(()=>{const t=es.cloneNode(!0);return f(t,()=>!e.onSort&&e.children,null),f(t,(()=>{const r=w(()=>!!e.onSort,!0);return()=>r()&&(()=>{const n=ts.cloneNode(!0),s=n.firstChild;return tt(n,"click",e.onSort,!0),f(n,()=>e.children,s),f(s,(()=>{const l=w(()=>e.directionDesc===void 0,!0);return()=>l()&&rs.cloneNode(!0)})(),null),f(s,(()=>{const l=w(()=>e.directionDesc===!0,!0);return()=>l()&&ns.cloneNode(!0)})(),null),f(s,(()=>{const l=w(()=>e.directionDesc===!1,!0);return()=>l()&&ls.cloneNode(!0)})(),null),O(l=>{const i=B(Vt.sortableLink,{[Vt.sorted]:e.directionDesc!==void 0}),o=Vt.sortIcon;return i!==l._v$&&(n.className=l._v$=i),o!==l._v$2&&(s.className=l._v$2=o),l},{_v$:void 0,_v$2:void 0}),n})()})(),null),t})();Y(["click"]);const ss=x('<th scope="col" class="relative px-6 py-3"><span class="sr-only"></span></th>');var is=e=>(()=>{const t=ss.cloneNode(!0),r=t.firstChild;return f(r,()=>e.children),t})();const os=x('<div class="fixed z-10 inset-0 overflow-y-auto modal-open" aria-labelledby="modal-title" role="dialog" aria-modal="true"><div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"><div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity" aria-hidden="true"></div><span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span><div><div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4 relative"><div class="absolute top-2 right-2 flex items-center justify-center h-8 w-8 rounded-full bg-gray-100"><button><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div></div></div></div></div>');var Ut=e=>(()=>{const t=os.cloneNode(!0),r=t.firstChild,n=r.firstChild,s=n.nextSibling,l=s.nextSibling,i=l.firstChild,o=i.firstChild,c=o.firstChild;return tt(c,"click",e.onClose,!0),f(i,()=>e.children,null),O(()=>l.className=B("inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full md:max-w-2xl lg:max-w-4xl xl:max-w-5xl",{[e.class??""]:(e.class??"").length>0})),t})();Y(["click"]);const cs=x('<h3 class="text-lg leading-6 font-medium text-gray-900 md-2" id="modal-title"></h3>');var Wt=e=>(()=>{const t=cs.cloneNode(!0);return f(t,()=>e.children),t})();const as=x('<div class="inline-flex shadow-sm rounded-md" role="group"></div>'),us=x('<button type="button"></button>');var Ee=e=>(()=>{const t=as.cloneNode(!0);return f(t,a(G,{get each(){return e.options},children:(r,n)=>(()=>{const s=us.cloneNode(!0);return s.$$click=()=>r.value!==e.selected?e.onChange(r.value):void 0,f(s,()=>r.text),O(()=>s.className=B("border-gray-900 bg-transparent text-sm font-medium px-4 py-1 h-8",{["bg-gray-900 text-white"]:r.value==e.selected,["text-gray-900 hover:bg-gray-900 hover:text-white"]:r.value!=e.selected,["rounded-l-lg border"]:n()===0,["rounded-r-md border"]:n()===e.options.length-1,["border-t border-b"]:n()>0&&n()<e.options.length-1,["border-l"]:n()>1&&n()<e.options.length-1})),s})()})),t})();Y(["click"]);const ds=x('<div class="flex justify-center mt-2"></div>');var it=e=>(()=>{const t=ds.cloneNode(!0);return f(t,a(Ee,{get options(){return Array.from(new Array(Math.min(e.totalPages,20))).map((r,n)=>({value:n+1,text:`${n+1}`}))},onChange:r=>e.onChange(Number(r)),get selected(){return`${e.currentPage}`}})),t})();const fs="_hasTooltip_1eorl_1",gs="_tooltip_1eorl_11",hs="_tooltipArrow_1eorl_33";var ms={hasTooltip:fs,tooltip:gs,tooltipArrow:hs};const ps=x('<div class="inline-block"></div>'),vs=x("<div></div>"),$s="SW",xs="SE",ys=(e,t,r,n,s,l,i)=>{switch(e){case"E":return{x:s,y:i};case"N":return{x:l,y:t};case"NE":return{x:s,y:t};case"NW":return{x:n,y:t};case"W":return{x:n,y:i};case"S":return{x:l,y:r};case"SE":return{x:s,y:r};case"SW":return{x:n,y:r}}},ws=e=>{switch(e){case"E":return{x:"0px",y:"-50%"};case"N":return{x:"-50%",y:"-100%"};case"NE":return{x:"0px",y:"-100%"};case"NW":return{x:"-100%",y:"-100%"};case"W":return{x:"-100%",y:"-50%"};case"S":return{x:"-50%",y:"0px"};case"SE":return{x:"0px",y:"0px"};case"SW":return{x:"-100%",y:"0px"}}};var Br=e=>{let t;const[r,n]=F({left:"0px",top:"0px"}),s=()=>{const l=t.getBoundingClientRect(),i=ys(e.origin??$s,l.top,l.top+l.height,l.left,l.left+l.width,l.left+l.width/2,l.top+l.height/2),o=ws(e.direction??xs);n({left:`${i.x}px`,top:`${i.y+document.documentElement.scrollTop}px`,transform:`translate3d(${o.x}, ${o.y}, 0)`})};return Ce(()=>{e.isMenuOpen()?(window.addEventListener("scroll",s),window.addEventListener("resize",s),s()):(window.removeEventListener("scroll",s),window.removeEventListener("resize",s))}),Ve(()=>{window.removeEventListener("scroll",s),window.removeEventListener("resize",s)}),(()=>{const l=ps.cloneNode(!0),i=t;return typeof i=="function"?i(l):t=l,f(l,()=>e.children,null),f(l,(()=>{const o=w(()=>!!e.isMenuOpen(),!0);return()=>o()&&a(Jn,{get children(){const c=vs.cloneNode(!0);return f(c,()=>e.renderMenu()),O(d=>{const u=B("absolute",{[e?.class??""]:!!e.class}),h=r();return u!==d._v$&&(c.className=d._v$=u),d._v$2=pr(c,h,d._v$2),d},{_v$:void 0,_v$2:void 0}),c}})})(),null),l})()};const Ss=x('<div class="inline-block relative"><div></div></div>'),bs=x('<div class="mb-1 inline-block bg-gray-900 font-medium shadow-sm text-white py-2 px-3 text-sm rounded-lg"></div>'),Ps=x("<div></div>");var k=e=>{let t;const[r,n]=F(!1),s=()=>n(!0),l=()=>n(!1);return wn(()=>{t?.addEventListener("mouseenter",s,!1),t?.addEventListener("mouseleave",l,!1)}),Ve(()=>{t?.removeEventListener("mouseenter",s),t?.removeEventListener("mouseleave",l)}),a(Br,{isMenuOpen:r,renderMenu:()=>(()=>{const i=bs.cloneNode(!0);return f(i,()=>e.text),i})(),get origin(){return e.origin??"N"},get direction(){return e.direction??"N"},class:"z-50",get children(){const i=Ss.cloneNode(!0),o=i.firstChild,c=t;return typeof c=="function"?c(i):t=i,f(o,()=>e.children),f(i,(()=>{const d=w(()=>!!r(),!0);return()=>d()&&(()=>{const u=Ps.cloneNode(!0);return O(()=>u.className=ms.tooltipArrow),u})()})(),null),O(()=>o.className=B({["text-sm border rounded border-gray-300 inline-block border-dashed hover:border-gray-500"]:!e.noStyle})),i}})};const jr=(e,t)=>{let r;const n=()=>clearTimeout(r);return[(...l)=>{r!==void 0&&n(),r=window.setTimeout(()=>e(...l),t)},n]};var Vr=function(){function e(t,r,n,s,l){return t<r||n<r?t>n?n+1:t+1:s===l?r:r+1}return function(t,r){if(t===r)return 0;if(t.length>r.length){var n=t;t=r,r=n}for(var s=t.length,l=r.length;s>0&&t.charCodeAt(s-1)===r.charCodeAt(l-1);)s--,l--;for(var i=0;i<s&&t.charCodeAt(i)===r.charCodeAt(i);)i++;if(s-=i,l-=i,s===0||l<3)return l;var o=0,c,d,u,h,m,p,g,S,_,I,b,y,P=[];for(c=0;c<s;c++)P.push(c+1),P.push(t.charCodeAt(i+c));for(var E=P.length-1;o<l-3;)for(_=r.charCodeAt(i+(d=o)),I=r.charCodeAt(i+(u=o+1)),b=r.charCodeAt(i+(h=o+2)),y=r.charCodeAt(i+(m=o+3)),p=o+=4,c=0;c<E;c+=2)g=P[c],S=P[c+1],d=e(g,d,u,_,S),u=e(d,u,h,I,S),h=e(u,h,m,b,S),p=e(h,m,p,y,S),P[c]=p,m=h,h=u,u=d,d=g;for(;o<l;)for(_=r.charCodeAt(i+(d=o)),p=++o,c=0;c<E;c+=2)g=P[c],P[c]=p=e(g,d,p,_,P[c+1]),d=g;return p}}();const zt=100,Ur="Survivalist";var Cs=()=>{const{allCraftableProductsWithOffers:e,allProductsInStores:t,mainState:r}=U(),[n,s]=ae({search:"",filterProfession:"",filterCraftingTable:"",currentPage:1,showPricesForProductsModal:void 0,showPricesForFuelModal:!1,filterByOwner:!1},"PriceCalculatorListProductsStore"),l=$(()=>!n.filterByOwner||r.userName.length===0?[]:t()?.filter(u=>u.StoreOwner===r.userName&&!u.Buying).map(u=>u.ItemName)??[]),i=$(()=>e()?.filter(u=>he(n.search,u.Name??"")&&Oe([n.filterProfession],u.RecipeVariants.map(h=>h.Recipe.SkillNeeds.map(m=>m.Skill)).flat())&&Oe([n.filterCraftingTable],u.RecipeVariants.map(h=>h.Recipe.CraftingTable).flat())&&(!n.filterByOwner||r.userName.length===0||Oe(l(),[u.Name]))).sort((u,h)=>Vr(u.Name,n.search)-Vr(h.Name,n.search))),o=$(()=>i()?.slice((n.currentPage-1)*zt,n.currentPage*zt)),c=$(()=>Math.ceil((i()?.length??0)/zt)),[d]=jr(u=>s({search:u,currentPage:1}),200);return{state:n,paginatedProducts:o,totalPages:c,update:{setSearch:d,setFilterProfession:u=>s({filterProfession:u===Ur?"":u,currentPage:1}),setFilterCraftingTable:u=>s({filterCraftingTable:u,currentPage:1}),setCurrentPage:u=>s({currentPage:u}),showPricesForProductsModal:(u,h)=>s({showPricesForProductsModal:{name:u,isSpecificProduct:h}}),hidePricesForProductsModal:()=>s({showPricesForProductsModal:void 0}),showPricesForFuelModal:()=>s({showPricesForFuelModal:!0}),hidePricesForFuelModal:()=>s({showPricesForFuelModal:!1}),setFilterByOwner:u=>s({filterByOwner:u}),clearFilters:()=>s({search:"",currentPage:1,filterProfession:"",filterCraftingTable:"",filterByOwner:!1})}}};const Wr=(e,t)=>t?e.find(r=>r.Variant.Key===t):void 0,zr=(e,t)=>e.length===1?e?.[0]:Wr(e,t),Gt=(e,t,r,n,s,l)=>{const i=e.find(u=>u.Name===n),o=ue(n);if(i==null)return{ingredientId:o,productName:n,recipeVariants:[],isTag:!1,quantity:l};const c=zr(i.RecipeVariants,t[o]),d=s.includes(n)?[]:c?.Variant.Ingredients.map(u=>Gr(e,t,r,u,[...s,n]));return{ingredientId:o,isTag:!1,productName:n,recipeVariants:i.RecipeVariants,selectedVariant:c,ancestors:d,quantity:l}},_s=(e,t,r,n,s,l)=>{const i=He(n),o=r[n]??[],c=e.filter(m=>o.includes(m.Name));if(c==null||c.length==0)return{ingredientId:i,productName:`Tag: ${n}`,recipeVariants:[],isTag:!0,quantity:l};const d=c.map(m=>m.RecipeVariants).flat(),u=Wr(d,t[i]),h=s.includes(i)||u==null?[]:u.Variant.Ingredients.map(m=>Gr(e,t,r,m,[...s,i]));return{ingredientId:i,isTag:!0,productName:`Tag: ${n}`,recipeVariants:d,selectedVariant:u,ancestors:h,quantity:l}},Gr=(e,t,r,n,s)=>n.IsSpecificItem?Gt(e,t,r,n.Name,s,n.Ammount):_s(e,t,r,n.Tag,s,n.Ammount),yt=(e,t,r)=>({ingredientId:e.ingredientId,isTag:e.isTag,productName:e.productName,recipeVariants:e.recipeVariants,selectedVariant:e.selectedVariant,level:t,path:r,quantity:e.quantity}),Hr=(e,t=0,r=[])=>{const n=[...r,e.ingredientId];return[yt(e,t,n),...(e.ancestors?.map(s=>Hr(s,t+1,n))??[]).flat()]},Xr=(e,t,r=[])=>{const n=[...r,e.ingredientId];if(t.length<=1||e.ingredientId!==t[0])return[yt(e,0,n)];const s=e.ancestors?.find(l=>l.ingredientId===t[1]);return s==null?[yt(e,0,n)]:[yt(e,0,n),...Xr(s,t.slice(1),[...r,e.ingredientId])]},Jr=(e,t,r,n)=>{const s=Gt(e,t,r,n,[],1);return Hr(s)},Ns=(e,t,r,n,s)=>{const l=Gt(e,t,r,n,[],1);return Xr(l,s)},Kr=e=>e.join("=>"),Es={"Bakery Oven":10,"Blast Furnace":50,Bloomery:10,Campfire:10,"Cast Iron Stove":10,"Cement Kiln":50,Kiln:50,"Oil Refinery":50},Qr=[1,.9,.75,.6,.55,.5];var Is=()=>{const{mainState:e,get:t,allCraftableProducts:r,tagsResource:n,allItemsAndTagsWithPrice:s}=U(),[l,i]=ae({simpleMode:!0,showRecipes:!1,showPersonalPrices:!1,showRecipeTree:!1,focusedProdPath:[]},"PriceCalculatorPriceCalcStore"),[o,c]=F(),[d,u]=F({}),h=$(()=>Jr(Object.values(r())??[],d(),n?.()?.Tags??{},o()??"")),m=$(()=>l.focusedProdPath.length===0?void 0:l.focusedProdPath[l.focusedProdPath.length-1]),p=$(()=>h().find(R=>R.ingredientId==m())),g=$(()=>p()?.selectedVariant?.Recipe),S=$(()=>g()?.SkillNeeds?.[0]?.Skill??""),_=$(()=>zr(p()?.recipeVariants??[],d()[m()??""])),I=$(()=>_()?.Variant.Key??""),b=$(()=>l.simpleMode?0:t.craftModule(I())),y=$(()=>l.simpleMode?1:t.craftAmmount(I())),P=$(()=>l.simpleMode?!1:t.craftLavish(I())),E=$(()=>l.simpleMode?1:t.craftLevel(S())),T=$(()=>l.simpleMode?10:t.recipeMargin(I())),A=$(()=>{const R=_()?.Variant;return R==null?[]:t.costPercentage(R.Key)??Fl(R)}),L=$(()=>{const R=_();return R==null?[]:R.Variant.Ingredients.map(D=>{const Pe=Qr[b()]*(P()?.95:1),Te=j(D.Ammount*(D.IsStatic?1:Pe)),ce=Ll(Te,y());return{...D,calcQuantity:ce,unitPrice:kr(ce/y(),l.simpleMode?s()?.[de(D)]?.AvgPrice??0:t.personalPrice(de(D))),calcPrice:kr(ce,l.simpleMode?s()?.[de(D)]?.AvgPrice??0:t.personalPrice(de(D)))}})}),K=[.5,.45,.4,.35,.3,.25,.2],X=$(()=>g()?.SkillNeeds.length??0>0?K[E()]:1),re=$(()=>(g()?.BaseLaborCost??0)*X()),ne=$(()=>re()/1e3*e.calorieCost),le=$(()=>ne()*y()),pe=$(()=>Es[g()?.CraftingTable??""]??0),Se=$(()=>(g()?.BaseCraftTime??0)*60*X()),se=$(()=>Se()*pe()),oe=$(()=>se()*e.costPer1kJoule/1e3),be=$(()=>oe()*y()),ve=$(()=>j((L()?.reduce((R,D)=>R+D.calcPrice,0)??0)+le()+be())),ot=$(()=>j(ve()/y()*Ml(T()))),ct=$(()=>{const R=_();return R==null?[]:R.Variant.Products.map(D=>{const Pe=A().find(Te=>Te.prod===D.Name)?.perc??0;return{...D,costPercentage:Pe,productionCost:j(ve()/y()*(Pe/100)/D.Ammount),retailPrice:j(ot()*(Pe/100)/D.Ammount)}})});return{state:l,craftModule:b,craftAmmount:y,craftLavish:P,craftLevel:E,recipeMargin:T,recipeIngredients:L,recipeCalories:re,recipeCalorieCost:ne,recipeCalorieTotalCost:le,recipeCraftTimeInSeconds:Se,recipeJoules:se,recipeFuelCost:oe,recipeFuelTotalCost:be,totalIngredientCost:ve,unitCostWithProfit:ot,recipeProducts:ct,focusedNode:p,selectedVariant:_,recipe:g,recipeSkill:S,variantId:I,selectedProduct:o,selectedRecipes:d,costPercentages:A,setSelectedProduct:R=>{c(R),R!=null&&i({focusedProdPath:[ue(R)]})},setSelectedRecipes:u,update:{toggleSimpleMode:()=>i(R=>({simpleMode:!R.simpleMode})),setShowRecipes:R=>i({showRecipes:R}),setShowPersonalPrices:R=>i({showPersonalPrices:R}),toggleShowRecipeTree:()=>i(R=>({showRecipeTree:!R.showRecipeTree})),replaceFocusedProductPath:R=>i({focusedProdPath:R}),focusChildProduct:R=>i(D=>({focusedProdPath:[...D.focusedProdPath,R]}))},calcExplanation:(R,D)=>{const Te=L().map(q=>` - ${q.calcQuantity}(${y()===1?"":y()+"x"}${q.Ammount}${q.IsStatic?"":"x"+Qr[b()]}${!q.IsStatic&&P()?"x0.95":""}) ${jt(q)} @ ${t.personalPrice(de(q))} ${D} = ${q.calcPrice} ${D}`),ce=ct().find(q=>q.Name===R);return[`Calculated cost of ${R} = ${ce?.productionCost} ${D}`,`Using recipe ${p()?.selectedVariant?.Variant.Key} at table ${g()?.CraftingTable} with module lvl ${b()}`,`From ${ce?.Ammount!==1?`1/${ce?.Ammount} of `:""}${ce?.costPercentage!==100?`${ce?.costPercentage}% of `:""}${j(ve()/y())} ${D} ${y()>1?`(total of ${ve()} each) `:""}from the sum of ingredients for ${y()} repetition(s):`,...Te,le()>0?` - Labor ${j(le()??0)} ${D}`:void 0,se()>0?` - Fuel ${j(be())} ${D}`:void 0].filter(q=>!!q).join(`
`)}}};const qr=dt({}),Rs=e=>{const t=Cs(),r=Is(),n={listProductsStore:t,priceCalcStore:r};return a(qr.Provider,{value:n,get children(){return e.children}})},Q=()=>Ye(qr),Ts=x("<button></button>");var V=e=>(()=>{const t=Ts.cloneNode(!0);return tt(t,"click",e.onClick,!0),f(t,()=>e.children),O(()=>t.className=B("bg-white text-black text-sm font-semibold py-1 px-2 border border-gray-300 rounded hover:bg-gray-100",e.class??"")),t})();Y(["click"]);const Os=x('<div><div class="flex items-center h-5"><input type="checkbox" class="bg-gray-50 border border-gray-300 focus:ring-3 focus:ring-blue-300 h-4 w-4 rounded cursor-pointer"></div><div class="text-sm px-2"><label class="font-medium text-gray-900 select-none cursor-pointer"></label></div></div>');var xe=e=>{const t=e.fieldId??e.label.replaceAll(" ","_");return(()=>{const r=Os.cloneNode(!0),n=r.firstChild,s=n.firstChild,l=n.nextSibling,i=l.firstChild;return s.addEventListener("change",o=>e.onChange(o.currentTarget.checked)),Ne(s,"id",t),Ne(s,"aria-describedby",t),Ne(i,"for",t),f(i,()=>e.label),O(o=>{const c=B("flex items-start",{"flex-row":!e.left,"flex-row-reverse":e.left},e.class),d=e.checked;return c!==o._v$&&(r.className=o._v$=c),d!==o._v$2&&(s.checked=o._v$2=d),o},{_v$:void 0,_v$2:void 0}),r})()};const As=x('<div class="sm:flex sm:items-start"><div class="flex-grow mt-3 text-center sm:mt-0 sm:text-left"><div class="mt-1 flex"></div><div class="mt-2 overflow-auto"></div></div></div>'),ks=x('<tr><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-right"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td></tr>'),Yr=10;var Ls=()=>{const{listProductsStore:{state:e,update:{hidePricesForProductsModal:t}},priceCalcStore:r}=Q(),{allProductsInStores:n,currentCurrency:s,update:l,tagsResource:i}=U(),[o,c]=F(1),[d,u]=F(!1),[h,m]=F(!0),p=$(()=>e.showPricesForProductsModal==null?[]:e.showPricesForProductsModal.isSpecificProduct?[e.showPricesForProductsModal.name]:i?.()?.Tags?.[e.showPricesForProductsModal.name]??[]),g=$(()=>n()?.some(b=>Oe(p(),[b.ItemName])&&b.CurrencyName===s())??!1);Ce(()=>u(g()));const S=$(()=>n()?.filter(b=>Oe(p(),[b.ItemName])&&(!s()||!d()||b.CurrencyName===s())&&(!h()||!b.Buying&&b.Quantity>0)).sort((b,y)=>b.Buying===y.Buying?b.Price-y.Price:b.Buying?1:-1)),_=$(()=>Or(o(),Yr,S())),I=$(()=>Ar(Yr,S()));return(()=>{const b=w(()=>!!e.showPricesForProductsModal,!0);return()=>b()&&a(Ut,{onClose:t,get children(){const y=As.cloneNode(!0),P=y.firstChild,E=P.firstChild,T=E.nextSibling;return f(P,a(Wt,{get children(){return["Ingame prices for product",w(()=>p().length>1?"s":""),":"," ",w(()=>p().join(", "))]}}),E),f(E,a(xe,{label:"Show only buyable products",get checked(){return h()},onChange:A=>m(A)}),null),f(E,a(xe,{label:"Show only offers in selected currency",get checked(){return d()},onChange:A=>u(A)}),null),f(T,a(Z,{get children(){return[a(te,{get children(){return[a(N,{children:"Product Name"}),a(N,{children:"Store Name"}),a(N,{children:"Store Owner"}),a(N,{children:"Quantity"}),a(N,{children:"Price"})]}}),a(ee,{get children(){return a(G,{get each(){return _()},children:A=>(()=>{const L=ks.cloneNode(!0),K=L.firstChild,X=K.nextSibling,re=X.nextSibling,ne=re.nextSibling,le=ne.nextSibling;return f(K,()=>A.ItemName),f(X,()=>A.StoreName),f(re,()=>A.StoreOwner),f(ne,()=>A.Buying?`Buying ${A.Limit} for`:`Selling ${A.MaxNumWanted} for`),f(le,()=>r.state.simpleMode&&`${A.Price} ${A.CurrencyName}`,null),f(le,(()=>{const pe=w(()=>!r.state.simpleMode,!0);return()=>pe()&&a(k,{noStyle:!0,text:"Click to set your personal price",get children(){return a(V,{onClick:()=>{l.personalPrice(ue(A.ItemName),A.CurrencyName,A.Price),e.showPricesForProductsModal!=null&&!e.showPricesForProductsModal.isSpecificProduct&&l.personalPrice(He(e.showPricesForProductsModal.name),A.CurrencyName,A.Price)},get children(){return`${A.Price} ${A.CurrencyName}`}})}})})(),null),L})()})}})]}}),null),f(T,a(it,{get currentPage(){return o()},get totalPages(){return I()},onChange:c}),null),y}})})()};const Ms=x('<div class="relative"><input class="rounded-md border border-gray-300 h-8 px-2 pr-8 rounded-md text-sm font-small focus:outline-none text-black" type="search" name="search" placeholder="Search"><button type="submit" class="absolute right-2 top-2"><svg class="text-black h-6 w-6 fill-current" xmlns="http://www.w3.org/2000/svg" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 80 80" style="enable-background:new 0 0 56.966 56.966;" width="256px" height="256px"><path d="M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23  s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92  c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17  s-17-7.626-17-17S14.61,6,23.984,6z"></path></svg></button></div>');var Zr=e=>(()=>{const t=Ms.cloneNode(!0),r=t.firstChild;return r.$$input=n=>e.onChange(n.currentTarget.value),O(()=>r.value=e.value),t})();Y(["input"]);var Fs=(e,t)=>{const[r,n]=F(!1),s=()=>{if(r()){n(!1);return}e()};return Ce(()=>{t()?(document.addEventListener("click",s),window.addEventListener("blur",s)):(document.removeEventListener("click",s),window.removeEventListener("blur",s))}),{onClickCapture:()=>n(!0)}};const Ds=x('<div role="menu" aria-orientation="vertical" aria-labelledby="menu-button" tabindex="-1"><div class="py-1" role="none"></div></div>'),Bs=x('<button role="menuitem"></button>'),js=x('<div><button type="button" class="inline-flex justify-center w-full rounded-md border border-gray-300 h-8 px-2 py-1 bg-white text-sm font-small text-black hover:bg-gray-50 focus:outline-none" id="menu-button" aria-expanded="true" aria-haspopup="true"><svg class="-mr-1 ml-2 h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div>');var Le=e=>{const[t,r]=F(!1),n=Fs(()=>r(!1),t);return a(Br,{isMenuOpen:t,renderMenu:()=>t()?(()=>{const l=Ds.cloneNode(!0),i=l.firstChild;return vr(l,n,!1,!0),f(i,a(G,{get each(){return e.values},children:o=>(()=>{const c=Bs.cloneNode(!0);return c.$$click=()=>{r(!1),e.onChange(o.value)},f(c,()=>o.text),O(()=>c.className=B("block px-4 py-2 text-sm w-full text-left",{["bg-gray-100 text-gray-900"]:o.value==e.value,["text-gray-700"]:o.value!=e.value})),c})()})),O(()=>l.className=B("w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 transform focus:outline-none z-50",{["transition ease-out duration-100 opacity-100 scale-100"]:t(),["transition ease-in duration-75 opacity-0 scale-95"]:!t()})),l})():void 0,get origin(){return e.origin},get direction(){return e.direction},get children(){const l=js.cloneNode(!0),i=l.firstChild,o=i.firstChild;return i.$$click=c=>{r(d=>!d),c.stopPropagation()},f(i,()=>e.values.find(c=>c.value==e.value)?.text,o),O(()=>l.className=B("inline-block text-left",e.class)),l}})};Y(["click"]);var Vs={"custom-number-input":"_custom-number-input_11t1w_1"};const Us=x('<div><button data-action="decrement" class="text-black border border-gray-300 hover:border-gray-400 w-10 rounded-l cursor-pointer outline-none"><span class="m-auto text-1xl font-thin">\u2212</span></button><input type="number" class="text-center w-full border-t border-b border-gray-300 font-semibold text-md text-black outline-none" name="custom-input-number"><button data-action="increment" class="text-black border border-gray-300 hover:border-gray-400 w-10 rounded-r cursor-pointer outline-none"><span class="m-auto text-1xl font-thin">+</span></button></div>');var Xe=e=>(()=>{const t=Us.cloneNode(!0),r=t.firstChild,n=r.nextSibling,s=n.nextSibling;return r.$$click=()=>e.onChange(j((e.value??0)-1)),n.addEventListener("change",l=>e.onChange(j(Number(l.currentTarget.value)))),s.$$click=()=>e.onChange(j((e.value??0)+1)),O(l=>{const i=B(Vs["custom-number-input"],"flex flex-row h-8 w-24 rounded-md",e.class),o=e.value??"";return i!==l._v$&&(t.className=l._v$=i),o!==l._v$2&&(n.value=l._v$2=o),l},{_v$:void 0,_v$2:void 0}),t})();Y(["click"]);var wt=e=>{const{currentCurrency:t,get:r,update:n}=U();return t()?a(Xe,{get value(){return r.personalPrice(e.personalPriceId)},onChange:s=>n.personalPrice(e.personalPriceId,t(),s),get class(){return e.class}}):'"select currency"'},Ht=e=>{const{currentCurrency:t,tagsResource:r,allProductsInStores:n,allItemsAndTagsWithPrice:s}=U(),l=$(()=>{const i=e.isSpecificItem?[e.name]:r?.()?.Tags?.[e.name]??[],o=n()?.filter(d=>i.includes(d.ItemName))??[];if(o.length<=0)return{errorMessage:"no offers"};const c=t()?o.filter(d=>d.CurrencyName===t())??[]:[];return t()&&c.length===0?{calculatedPrice:"no offers in currency"}:{calculatedPrice:t()?s()?.[e.id]?.AvgPrice:0}});return l().errorMessage?()=>l().errorMessage:a(k,{noStyle:!0,text:"Click for ingame prices. Select currency for average.",get children(){return a(V,{onClick:()=>e.showPricesForProductsModal(e.name,e.isSpecificItem),get children(){return[w(()=>!t()&&"select currency"),w((()=>{const i=w(()=>!!(t()&&l()),!0);return()=>i()&&`${l().calculatedPrice??"?"} ${t()}`})())]}})}})};const Ws=x('<tr><td colspan="6"><div class="flex justify-center"><div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div></div></td></tr>');var Xt=e=>a(Ue,{get when(){return e.show()},get children(){return Ws.cloneNode(!0)}});const zs=x('<div class="flex justify-between"><div></div><div class="flex gap-2 mb-2"></div></div>'),Gs=x('<tr><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td></tr>'),Hs=x("<div></div>"),Xs=x('<div class="flex"></div>');var Js=()=>{const{isLoadingResources:e,currentCurrency:t,allProfessions:r,allCraftingTables:n}=U(),{listProductsStore:s,priceCalcStore:l}=Q();return(()=>{const i=w(()=>l.selectedProduct()==null,!0);return()=>i()&&[(()=>{const o=zs.cloneNode(!0),c=o.firstChild,d=c.nextSibling;return f(c,a(k,{text:"Click to filter items being sold by stores owned by you (set your name in the header above)",origin:"NW",direction:"NE",get children(){return a(xe,{label:"Only show what I'm selling",get checked(){return s.state.filterByOwner},onChange:u=>s.update.setFilterByOwner(u)})}})),f(d,a(Zr,{get value(){return s.state.search},get onChange(){return s.update.setSearch}}),null),f(d,a(Le,{get value(){return s.state.filterProfession},get values(){return[{value:"",text:"Filter by Profession"},...r()?.map(u=>({value:u,text:u}))??[]]},onChange:u=>s.update.setFilterProfession(`${u}`),origin:"SE",direction:"SW"}),null),f(d,a(Le,{get value(){return s.state.filterCraftingTable},get values(){return[{value:"",text:"Filter by crafting station"},...n()?.map(u=>({value:u,text:u}))??[]]},onChange:u=>s.update.setFilterCraftingTable(`${u}`),origin:"SE",direction:"SW"}),null),f(d,a(V,{onClick:()=>s.update.clearFilters(),children:"Clear filters"}),null),o})(),a(Z,{get children(){return[a(te,{get children(){return[a(N,{children:"Product Name"}),a(N,{children:"Profession/Craft Station"}),a(N,{children:"Average price"}),a(N,{children:"Personal price"})]}}),a(ee,{get children(){return[a(Xt,{show:e}),a(G,{get each(){return s.paginatedProducts()},children:o=>(()=>{const c=Gs.cloneNode(!0),d=c.firstChild,u=d.nextSibling,h=u.nextSibling,m=h.nextSibling;return f(d,a(k,{noStyle:!0,text:"Click to calculate price for this item",origin:"NW",direction:"NE",get children(){return a(V,{onClick:()=>l.setSelectedProduct(o.Name),get children(){return o.Name}})}})),f(u,()=>o.RecipeVariants.map(p=>(p.Recipe.SkillNeeds.length>0?p.Recipe.SkillNeeds:[{Skill:Ur,Level:0}]).map(g=>({Skill:g.Skill,SkillLevel:g.Level,craftingTable:p.Recipe.CraftingTable})).flat()).flat().filter((p,g,S)=>S.findIndex(_=>_.Skill===p.Skill&&_.SkillLevel===p.SkillLevel&&_.craftingTable===p.craftingTable)===g).filter(p=>Tr(s.state.filterProfession,p.Skill)&&Tr(s.state.filterCraftingTable,p.craftingTable)).map((p,g)=>(()=>{const S=Hs.cloneNode(!0);return f(S,[a(k,{noStyle:!0,text:"Click to filter by profession",get children(){return a(V,{onClick:()=>s.update.setFilterProfession(p.Skill),get children(){return p.Skill}})}}),w(()=>` lvl${p.SkillLevel}`)],null),f(S,()=>p.Skill&&" @ ",null),f(S,a(k,{noStyle:!0,text:"Click to filter by craft station",get children(){return a(V,{onClick:()=>s.update.setFilterCraftingTable(p.craftingTable),get children(){return p.craftingTable}})}}),null),O(()=>S.className=B({"mt-1":g>0})),S})())),f(h,a(Ht,{get id(){return de({IsSpecificItem:!0,Name:o.Name,Tag:""})},get name(){return o.Name},isSpecificItem:!0,get showPricesForProductsModal(){return s.update.showPricesForProductsModal}})),f(m,()=>!t()&&"select currency",null),f(m,(()=>{const p=w(()=>!!t(),!0);return()=>p()&&(()=>{const g=Xs.cloneNode(!0);return f(g,a(wt,{get personalPriceId(){return de({IsSpecificItem:!0,Name:o.Name,Tag:""})}}),null),f(g,a(V,{class:"ml-2",onClick:()=>l.setSelectedProduct(o.Name),children:"Calculate now"}),null),g})()})(),null),c})()})]}})]}}),a(it,{get currentPage(){return s.state.currentPage},get totalPages(){return s.totalPages()},get onChange(){return s.update.setCurrentPage}})]})()};const Ks=x("<div><button><div></div></button><div></div></div>"),Qs=x('<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path></svg>'),qs=x('<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>');var Jt=e=>{const[t,r]=F(e.startsOpen??!1);return(()=>{const n=Ks.cloneNode(!0),s=n.firstChild,l=s.firstChild,i=s.nextSibling;return s.$$click=()=>!e.notCollapsible&&r(o=>!o),f(s,()=>e.headerText,l),f(l,(()=>{const o=w(()=>!!(!e.notCollapsible&&t()),!0);return()=>o()&&Qs.cloneNode(!0)})(),null),f(l,(()=>{const o=w(()=>!e.notCollapsible&&!t(),!0);return()=>o()&&qs.cloneNode(!0)})(),null),f(i,()=>e.children),O(o=>{const c=B("border rounded",e.class),d=B("px-8 py-5 bg-gray-50 px-5 py-3 flex w-full justify-between",{"border-b":t(),"cursor-default":e.notCollapsible}),u=B("px-8 py-5",{hidden:!t()});return c!==o._v$&&(n.className=o._v$=c),d!==o._v$2&&(s.className=o._v$2=d),u!==o._v$3&&(i.className=o._v$3=u),o},{_v$:void 0,_v$2:void 0,_v$3:void 0}),n})()};Y(["click"]);const Ys=x("<span></span>");var ye=e=>e.text&&(()=>{const t=Ys.cloneNode(!0);return f(t,()=>e.text),O(()=>t.className=B("font-semibold",{[e.class??""]:!!e.class})),t})();const Zs=x('<div class="inline-block mx-2"></div>');var en=e=>[w((()=>{const t=w(()=>(e.recipeVariants?.length??0)===1,!0);return()=>t()&&a(ye,{class:"px-2",get text(){return e.recipeVariants?.[0].Recipe.Untranslated}})})()),w((()=>{const t=w(()=>(e.recipeVariants?.length??0)>1,!0);return()=>t()&&(()=>{const r=Zs.cloneNode(!0);return f(r,a(Le,{get value(){return e.selectedValue},get values(){return[{value:"",text:"No recipe"},...(e.recipeVariants?.map(n=>({text:n.Variant.Name,value:n.Variant.Key}))??[]).sort(Ol(n=>n.text))]},onChange:n=>e.setSelected(`${n}`)})),r})()})())];const ei=x('<div class="absolute p-2 border rounded top-0 right-0"></div>');var ti=()=>{const{priceCalcStore:e}=Q();return(()=>{const t=ei.cloneNode(!0);return f(t,a(xe,{label:"show recipes",get checked(){return e.state.showRecipes},onChange:r=>e.update.setShowRecipes(r),left:!0}),null),f(t,a(xe,{label:"show personal price",get checked(){return e.state.showPersonalPrices},onChange:r=>e.update.setShowPersonalPrices(r),left:!0}),null),t})()};const ri=x('<div class="relative"></div>'),ni=x('<span>Recipe tree for product <span class="font-bold"></span></span>'),li=x('<div class="mt-1 flex items-center"></div>'),si=x('<div class="inline-block py-1 px-4"></div>'),ii=x('<span class="ml-2">with recipe</span>'),oi=x('<span class="border rounded px-2 py-1 ml-2 font-normal"></span>'),ci=x('<span class="ml-2">for</span>');var ai=()=>{const{allCraftableProducts:e,tagsResource:t,currentCurrency:r}=U(),{priceCalcStore:n}=Q(),s=$(()=>Jr(Object.values(e())??[],n.selectedRecipes(),t?.()?.Tags??{},n.selectedProduct()??"")),l=$(()=>Kr(n.state.focusedProdPath));return a(Jt,{notCollapsible:!0,startsOpen:!0,get headerText(){return(()=>{const i=ni.cloneNode(!0),o=i.firstChild,c=o.nextSibling;return f(c,()=>n.selectedProduct()),i})()},class:"mt-4",get children(){const i=ri.cloneNode(!0);return f(i,a(G,{get each(){return s()},children:o=>(()=>{const c=li.cloneNode(!0);return f(c,(()=>{const d=w(()=>o.recipeVariants.length>0,!0);return()=>d()&&a(k,{noStyle:!0,text:"Click to calculate price",get children(){return a(V,{get class(){return B("inline-block py-1 px-4",{"bg-gray-300":Kr(o.path)===l()})},onClick:()=>n.update.replaceFocusedProductPath(o.path),get children(){return o.productName}})}})})(),null),f(c,(()=>{const d=w(()=>o.recipeVariants.length===0,!0);return()=>d()&&(()=>{const u=si.cloneNode(!0);return f(u,()=>o.productName),u})()})(),null),f(c,(()=>{const d=w(()=>((n.state.showRecipes&&o.recipeVariants?.length)??0)>0,!0);return()=>d()&&ii.cloneNode(!0)})(),null),f(c,(()=>{const d=w(()=>!!n.state.showRecipes,!0);return()=>d()&&a(en,{get selectedValue(){return o.selectedVariant?.Variant.Key??""},get recipeVariants(){return o.recipeVariants},setSelected:u=>n.setSelectedRecipes(h=>({...h,[o.ingredientId]:u}))})})(),null),f(c,(()=>{const d=w(()=>!!(n.state.showRecipes&&!!o.selectedVariant?.Variant.Key),!0);return()=>d()&&["at table",(()=>{const u=oi.cloneNode(!0);return f(u,()=>o.recipeVariants.find(h=>h.Variant.Key===o.selectedVariant?.Variant.Key)?.Recipe.CraftingTable),u})()]})(),null),f(c,(()=>{const d=w(()=>!!n.state.showPersonalPrices,!0);return()=>d()&&[ci.cloneNode(!0),a(wt,{class:"mx-2",get personalPriceId(){return o.ingredientId}}),w(r)]})(),null),O(()=>c.style.setProperty("margin-left",`${o.level*30}px`)),c})()}),null),f(i,a(ti,{}),null),i}})};const ui=x("<div><span></span></div>");var Ie=e=>(()=>{const t=ui.cloneNode(!0),r=t.firstChild;return f(r,()=>e.text),f(t,()=>e.children,null),O(()=>t.className=B("flex",{"flex-row gap-2":!e.vertical,"flex-col gap-1":!!e.vertical})),t})();const di=Array.from(Array(7)).map((e,t)=>({value:t,text:"Level "+(t+1)}));var fi=e=>a(Le,{get value(){return e.level},values:di,onChange:t=>e.onSelectLevel(Number(t))});const gi="Recipes",hi="CraftingTables",mi="Tags",pi="Stores",tn="3.2.2";var we;(function(e){e[e.BUY=0]="BUY",e[e.SELL=1]="SELL",e[e.BOTH=2]="BOTH"})(we||(we={}));const rn={BurnableFuel:"Burnable Fuel"};var vi=e=>{const{get:t,currentCurrency:r,allProductsInStores:n,allItemsAndTagsWithPrice:s}=U(),l=$(()=>{const i=t.itemsInTag(rn.BurnableFuel),o=i.map(m=>m.Name),c=n()?.filter(m=>o.includes(m.ItemName))??[];if(c.length<=0)return{errorMessage:"no offers"};const d=r()?c.filter(m=>m.CurrencyName===r())??[]:[];if(r()&&d.length===0)return{calculatedPrice:"no offers in currency"};const h=d.filter(m=>!m.Buying&&m.Quantity>0).reduce(({ProdName:m,PricePerJoule:p},g)=>{const S=g.ItemName,_=s()[ue(S)]?.AvgPrice??0,I=(i.find(y=>y.Name===S)?.Fuel??0)*2,b=I===0?0:_/I;return m.length===0||b<p?{ProdName:S,PricePerJoule:b}:{ProdName:m,PricePerJoule:p}},{ProdName:"",PricePerJoule:0});return h.ProdName.length===0?{calculatedPrice:"no valid offers in currency"}:{calculatedPrice:r()?j(h.PricePerJoule*1e3):0}});return l().errorMessage?()=>l().errorMessage:a(k,{noStyle:!0,text:"Click for ingame fuel prices. Select currency for average.",get children(){return a(V,{onClick:()=>e.showPricesForFuelModal(),get children(){return[w(()=>!r()&&"select currency"),w((()=>{const i=w(()=>!!(r()&&l()),!0);return()=>i()&&`${l().calculatedPrice??"?"} ${r()}`})())]}})}})};const $i=x('<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block self-center" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>');var Kt=()=>$i.cloneNode(!0);const xi=x('<div class="inline-block px-2 py-1"></div>');var yi=e=>{const{tagsResource:t,allCraftableProducts:r}=U(),{priceCalcStore:n}=Q(),s=de(e.ingredient),l=r()?.[e.ingredient.Name]?.RecipeVariants?.length>0;return!l&&e.ingredient.IsSpecificItem?()=>e.ingredient.Name:l&&e.ingredient.IsSpecificItem?a(k,{noStyle:!0,get text(){return`Click to calculate price for ${e.ingredient.Name}`},get children(){return a(V,{onClick:()=>n.update.focusChildProduct(s),get children(){return e.ingredient.Name}})}}):!l&&!e.ingredient.IsSpecificItem?a(k,{get text(){return`One of: ${t?.()?.Tags?.[e.ingredient.Tag]?.join(", ")}`},origin:"NW",direction:"NE",get children(){const i=xi.cloneNode(!0);return f(i,()=>`Tag ${e.ingredient.Tag}`),i}}):a(k,{noStyle:!0,get text(){return`Click to calculate price for one of: ${t?.()?.Tags?.[e.ingredient.Tag]?.join(", ")}`},origin:"NW",direction:"NE",get children(){return a(V,{onClick:()=>n.update.focusChildProduct(s),get children(){return`Tag ${e.ingredient.Tag}`}})}})};const wi=x('<span class="pr-1"></span>'),Si=x('<tr><td>Labor</td><td><div></div><div>(<!> Calories)</div></td><td></td><td><div class="flex flex-row gap-2"></div></td><td></td><td></td></tr>'),bi=x("<tr><td></td><td></td><td></td><td></td><td></td><td></td></tr>"),Pi=x('<tr><td>Fuel</td><td><div> seconds</div><div>(<!> Joules)</div></td><td></td><td><div class="flex flex-row gap-2"></div></td><td></td><td></td></tr>');var Ci=()=>{const{mainState:e,update:t}=U(),{priceCalcStore:r,listProductsStore:n}=Q(),s="px-6 py-4 whitespace-nowrap text-sm text-gray-500";return a(Z,{get children(){return[a(te,{get children(){return[a(N,{children:"Ingredient name"}),a(N,{children:"Quantity"}),a(N,{children:"Average price"}),a(N,{children:"Personal price"}),a(N,{children:"Unit price"}),a(N,{children:"Total price"})]}}),a(ee,{get children(){return[a(G,{get each(){return r.recipeIngredients()},children:l=>(()=>{const i=bi.cloneNode(!0),o=i.firstChild,c=o.nextSibling,d=c.nextSibling,u=d.nextSibling,h=u.nextSibling,m=h.nextSibling;return o.className=s,f(o,a(yi,{ingredient:l})),c.className=s,f(c,()=>l.calcQuantity),d.className=s,f(d,a(Ht,{get id(){return de(l)},get name(){return l.IsSpecificItem?l.Name:l.Tag},get isSpecificItem(){return l.IsSpecificItem},get showPricesForProductsModal(){return n.update.showPricesForProductsModal}})),u.className=s,f(u,a(wt,{get personalPriceId(){return de(l)}})),h.className=s,f(h,()=>j(l.unitPrice)),m.className=s,f(m,()=>j(l.calcPrice)),i})()}),(()=>{const l=Si.cloneNode(!0),i=l.firstChild,o=i.nextSibling,c=o.firstChild,d=c.nextSibling,u=d.firstChild,h=u.nextSibling;h.nextSibling;const m=o.nextSibling,p=m.nextSibling,g=p.firstChild,S=p.nextSibling,_=S.nextSibling;return i.className=s,o.className=s,f(c,()=>(r.recipe()?.BaseLaborCost??0)*r.craftAmmount()),f(d,()=>j((r.recipeCalories()??0)*r.craftAmmount()),h),m.className=s,p.className=s,f(g,a(Xe,{get value(){return j(e.calorieCost)},onChange:I=>t.calorieCost(I)}),null),f(g,a(k,{noStyle:!0,text:"Price per 1000 calories.",get children(){return a(Kt,{})}}),null),S.className=s,f(S,a(k,{noStyle:!0,text:"Labor cost is calculated using price per 1000 calories.",get children(){return[(()=>{const I=wi.cloneNode(!0);return f(I,()=>j(r.recipeCalorieCost()??0)),I})(),a(Kt,{})]}})),_.className=s,f(_,()=>j(r.recipeCalorieTotalCost()??0)),l})(),w((()=>{const l=w(()=>(r.recipeJoules()??0)>0,!0);return()=>l()&&(()=>{const i=Pi.cloneNode(!0),o=i.firstChild,c=o.nextSibling,d=c.firstChild,u=d.firstChild,h=d.nextSibling,m=h.firstChild,p=m.nextSibling;p.nextSibling;const g=c.nextSibling,S=g.nextSibling,_=S.firstChild,I=S.nextSibling,b=I.nextSibling;return o.className=s,c.className=s,f(d,()=>(r.recipeCraftTimeInSeconds()??0)*r.craftAmmount(),u),f(h,()=>j((r.recipeJoules()??0)*r.craftAmmount()),p),g.className=s,f(g,a(vi,{get showPricesForFuelModal(){return n.update.showPricesForFuelModal}})),S.className=s,f(_,a(Xe,{get value(){return j(e.costPer1kJoule)},onChange:y=>t.costPer1kJoule(y)}),null),f(_,a(k,{noStyle:!0,text:"Price per 1000 Joules",get children(){return a(Kt,{})}}),null),I.className=s,f(I,()=>r.recipeFuelCost()),b.className=s,f(b,()=>j(r.recipeFuelTotalCost()??0)),i})()})())]}})]}})};const _i=x("<tr><td></td><td></td><td></td><td></td></tr>");var Ni=()=>{const{priceCalcStore:e,listProductsStore:t}=Q(),r="px-6 py-4 whitespace-nowrap text-sm text-gray-500";return a(Z,{get children(){return[a(te,{get children(){return[a(N,{children:"Ingredient name"}),a(N,{children:"Quantity"}),a(N,{children:"Price"}),a(N,{children:"Cost"})]}}),a(ee,{get children(){return a(G,{get each(){return e.recipeIngredients()},children:n=>(()=>{const s=_i.cloneNode(!0),l=s.firstChild,i=l.nextSibling,o=i.nextSibling,c=o.nextSibling;return l.className=r,f(l,()=>jt(n)),i.className=r,f(i,()=>n.calcQuantity),o.className=r,f(o,a(Ht,{get id(){return de(n)},get name(){return n.IsSpecificItem?n.Name:n.Tag},get isSpecificItem(){return n.IsSpecificItem},get showPricesForProductsModal(){return t.update.showPricesForProductsModal}})),c.className=r,f(c,()=>j(n.unitPrice)),s})()})}})]}})};const Ei=x('<span><span class="font-medium">Ingredients</span>: Calculating costs for <!> using recipe</span>'),Ii=x('<div class="mt-8"></div>'),Ri=x('<div class="flex items-center mt-8">Recipe production cost is</div>'),Ti=x('<div class="flex gap-5 flex-wrap"></div>');var Oi=()=>{const{get:e,update:t}=U(),{priceCalcStore:r,listProductsStore:n}=Q();return a(Jt,{notCollapsible:!0,startsOpen:!0,class:"mt-4",get headerText(){return(()=>{const s=Ei.cloneNode(!0),l=s.firstChild,i=l.nextSibling,o=i.nextSibling;return o.nextSibling,f(s,a(ye,{get text(){return r.focusedNode()?.productName}}),o),f(s,a(en,{get selectedValue(){return r.focusedNode()?.selectedVariant?.Variant.Key??""},get recipeVariants(){return r.focusedNode()?.recipeVariants??[]},setSelected:c=>r.setSelectedRecipes(d=>({...d,[r.focusedNode()?.ingredientId??""]:c}))}),null),f(s,(()=>{const c=w(()=>!!r.focusedNode()?.selectedVariant?.Variant.Key,!0);return()=>c()&&["at table",a(ye,{get text(){return r.recipe()?.CraftingTable},class:"pl-2"})]})(),null),s})()},get children(){const s=w(()=>!!r.selectedVariant(),!0);return()=>s()&&[w((()=>{const l=w(()=>!r.state.simpleMode,!0);return()=>l()&&(()=>{const i=Ti.cloneNode(!0);return f(i,a(Ie,{vertical:!0,text:"Craft amount:",get children(){return a(Ee,{options:[{text:"1",value:1},{text:"10",value:10},{text:"100",value:100}],onChange:o=>t.craftAmmount(r.variantId(),Number(o)),get selected(){return e.craftAmmount(r.variantId())}})}}),null),f(i,a(Ie,{vertical:!0,text:"Upgrade module in use:",get children(){return a(Ee,{get options(){return Array.from(new Array(6)).map((o,c)=>({text:`M${c}`,value:c}))},onChange:o=>t.craftModule(r.variantId(),Number(o)),get selected(){return e.craftModule(r.variantId())}})}}),null),f(i,a(Ie,{vertical:!0,text:"Lavish Talent:",get children(){return a(xe,{label:"Enabled",onChange:o=>t.craftLavish(r.variantId(),o),get checked(){return e.craftLavish(r.variantId())}})}}),null),f(i,(()=>{const o=w(()=>!!(r.recipe()?.SkillNeeds.length??0>0),!0);return()=>o()&&a(Ie,{vertical:!0,get text(){return r.recipeSkill()+" Level:"},get children(){return a(fi,{get level(){return r.craftLevel()},onSelectLevel:c=>t.craftLevel(r.recipeSkill(),c)})}})})(),null),i})()})()),(()=>{const l=Ii.cloneNode(!0);return f(l,(()=>{const i=w(()=>!!r.state.simpleMode,!0);return()=>i()&&a(Ni,{})})(),null),f(l,(()=>{const i=w(()=>!r.state.simpleMode,!0);return()=>i()&&a(Ci,{})})(),null),l})(),(()=>{const l=Ri.cloneNode(!0);return l.firstChild,f(l,a(ye,{class:"pl-1",get text(){return`${r.totalIngredientCost()}`}}),null),f(l,(()=>{const i=w(()=>r.craftAmmount()>1&&(r.totalIngredientCost()??0)>0,!0);return()=>i()&&[", cost per repetition is",a(ye,{class:"pl-1",get text(){return`${j((r.totalIngredientCost()??0)/r.craftAmmount())}`}})]})(),null),l})()]}})};const Ai=x('<tr><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td></tr>');var ki=()=>{const{currentCurrency:e,update:t}=U(),{priceCalcStore:r}=Q();return a(Z,{get children(){return[a(te,{get children(){return[a(N,{children:"Product name"}),a(N,{children:"Amount"}),a(N,{children:"Cost Percentage"}),a(N,{children:"Production cost"}),a(N,{children:"Retail price"}),a(N,{children:"Personal price"})]}}),a(ee,{get children(){return a(G,{get each(){return r.recipeProducts()},children:n=>(()=>{const s=Ai.cloneNode(!0),l=s.firstChild,i=l.nextSibling,o=i.nextSibling,c=o.nextSibling,d=c.nextSibling,u=d.nextSibling;return f(l,a(k,{noStyle:!0,text:"Click to copy this fancy math to clipboard",get children(){return a(V,{onClick:()=>navigator.clipboard.writeText(r.calcExplanation(n.Name,e())),get children(){return n.Name}})}})),f(i,()=>n.Ammount),f(o,a(Xe,{get value(){return n.costPercentage},onChange:h=>t.costPercentage(r.variantId(),Lr(r.costPercentages(),n.Name,h))})),f(c,a(k,{noStyle:!0,text:"Click to set your personal price",get children(){return a(V,{onClick:()=>t.personalPrice(ue(n.Name),e(),n.productionCost),get children(){return`${n.productionCost} ${e()}`}})}})),f(d,a(k,{noStyle:!0,text:"Click to set your personal price",get children(){return a(V,{class:"px-2 py-1",onClick:()=>t.personalPrice(ue(n.Name),e(),n.retailPrice),get children(){return`${n.retailPrice} ${e()}`}})}})),f(u,a(wt,{get personalPriceId(){return ue(n.Name)}})),s})()})}})]}})};const Li=x('<tr><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td></tr>');var Mi=()=>{const{currentCurrency:e,update:t}=U(),{priceCalcStore:r}=Q();return a(Z,{get children(){return[a(te,{get children(){return[a(N,{children:"Product name"}),a(N,{children:"Amount"}),a(N,{children:"Cost Percentage"}),a(N,{children:"Retail price"})]}}),a(ee,{get children(){return a(G,{get each(){return r.recipeProducts()},children:n=>(()=>{const s=Li.cloneNode(!0),l=s.firstChild,i=l.nextSibling,o=i.nextSibling,c=o.nextSibling;return f(l,()=>n.Name),f(i,()=>n.Ammount),f(o,a(Xe,{get value(){return n.costPercentage},onChange:d=>t.costPercentage(r.variantId(),Lr(r.costPercentages(),n.Name,d))})),f(c,()=>`${n.retailPrice} ${e()}`),s})()})}})]}})};const Fi=x('<span><span class="font-medium">Products</span>: Distribute recipe costs between resulting products</span>'),Di=x('<div class="flex items-center mt-2">Cost per recipe with <!>% margin applied is </div>'),Bi=x('<div class="mt-8"></div>'),ji=x('<div class="flex gap-5 flex-wrap"></div>'),Vi=[0,5,10,15,20,25,30,40,50,75].map(e=>({value:e,text:`${e} %`}));var Ui=()=>{const{currentCurrency:e,update:t}=U(),{priceCalcStore:r}=Q();return a(Jt,{notCollapsible:!0,startsOpen:!0,class:"mt-6",get headerText(){return Fi.cloneNode(!0)},get children(){const n=w(()=>!!r.selectedVariant(),!0);return()=>n()&&[w((()=>{const s=w(()=>!r.state.simpleMode,!0);return()=>s()&&(()=>{const l=ji.cloneNode(!0);return f(l,a(Ie,{vertical:!0,text:"Recipe margin:",get children(){return a(Ee,{options:Vi,onChange:i=>t.recipeMargin(r.variantId(),Number(i)),get selected(){return r.recipeMargin()}})}})),l})()})()),(()=>{const s=Di.cloneNode(!0),l=s.firstChild,i=l.nextSibling;return i.nextSibling,f(s,()=>r.recipeMargin(),i),f(s,a(ye,{class:"px-1",get text(){return`${r.unitCostWithProfit()}`}}),null),f(s,e,null),s})(),(()=>{const s=Bi.cloneNode(!0);return f(s,()=>r.state.simpleMode&&Mi,null),f(s,()=>!r.state.simpleMode&&ki,null),s})()]}})};const Wi=x('<div class="border rounded px-8 py-3 bg-gray-50 mt-4"><div class="font-semibold text-sm">Calculating price for: </div><div class="flex items-center gap-2"></div></div>'),zi=x("<div>&gt;</div>"),Gi=x('<div class="inline-block py-1 px-1 font-semibold"></div>');var Hi=()=>{const{allCraftableProducts:e,tagsResource:t,mainState:r}=U(),{priceCalcStore:n}=Q(),s=$(()=>Ns(Object.values(e())??[],n.selectedRecipes(),t?.()?.Tags??{},n.selectedProduct()??"",n.state.focusedProdPath));return(()=>{const l=Wi.cloneNode(!0),i=l.firstChild,o=i.nextSibling;return f(o,a(G,{get each(){return s()},children:(c,d)=>[w((()=>{const u=w(()=>d()<s().length-1,!0);return()=>u()&&a(k,{noStyle:!0,text:"Click to calculate price",get children(){return a(V,{class:"inline-block py-1 px-4",onClick:()=>n.update.replaceFocusedProductPath(c.path),get children(){return c.productName}})}})})()),w((()=>{const u=w(()=>d()<s().length-1,!0);return()=>u()&&zi.cloneNode(!0)})()),w((()=>{const u=w(()=>d()===s().length-1,!0);return()=>u()&&(()=>{const h=Gi.cloneNode(!0);return f(h,()=>c.productName),h})()})())]})),l})()};const Xi=x('<div class="flex justify-between"><div class="flex gap-2"></div></div>');var Ji=()=>{const{priceCalcStore:e}=Q();return(()=>{const t=w(()=>e.selectedProduct()!==void 0,!0);return()=>t()&&[(()=>{const r=Xi.cloneNode(!0),n=r.firstChild;return f(r,a(V,{onClick:()=>e.setSelectedProduct(void 0),children:"Back"}),n),f(n,a(Ee,{options:[{text:"Simple",value:"Simple"},{text:"Expanded",value:"Expanded"}],get onChange(){return e.update.toggleSimpleMode},get selected(){return e.state.simpleMode?"Simple":"Expanded"}}),null),f(n,a(Ee,{options:[{text:"Breadcrumb",value:"Breadcrumb"},{text:"Recipe tree",value:"RecipeTree"}],get onChange(){return e.update.toggleShowRecipeTree},get selected(){return e.state.showRecipeTree?"RecipeTree":"Breadcrumb"}}),null),r})(),w((()=>{const r=w(()=>!!e.state.showRecipeTree,!0);return()=>r()&&a(ai,{})})()),w((()=>{const r=w(()=>!e.state.showRecipeTree,!0);return()=>r()&&a(Hi,{})})()),a(Oi,{}),a(Ui,{})]})()};const Ki=x('<div class="sm:flex sm:items-start"><div class="flex-grow mt-3 text-center sm:mt-0 sm:text-left"><div class="mt-1 flex"></div><div class="mt-4 overflow-auto"></div></div></div>'),Qi=x('<tr><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-right"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"> J</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td></tr>'),nn=10;var qi=()=>{const{listProductsStore:{state:e,update:{hidePricesForFuelModal:t}}}=Q(),{allProductsInStores:r,currentCurrency:n,get:s,update:l,tagsResource:i}=U(),[o,c]=F(1),[d,u]=F(!1),[h,m]=F(!0),p=$(()=>s.itemsInTag(rn.BurnableFuel)),g=$(()=>p().map(y=>y.Name)),S=$(()=>r()?.some(y=>Oe(g(),[y.ItemName])&&y.CurrencyName===n())??!1);Ce(()=>u(S()));const _=$(()=>r()?.filter(y=>Oe(g(),[y.ItemName])&&(!n()||!d()||y.CurrencyName===n())&&(!h()||!y.Buying&&y.Quantity>0)).map(y=>{const P=(p().find(E=>E.Name===y.ItemName)?.Fuel??0)*2;return{...y,Joules:P,PricePer1kJ:y.Price/P*1e3}}).sort((y,P)=>y.Buying===P.Buying?y.PricePer1kJ-P.PricePer1kJ:y.Buying?1:-1)),I=$(()=>Or(o(),nn,_())),b=$(()=>Ar(nn,_()));return(()=>{const y=w(()=>!!e.showPricesForFuelModal,!0);return()=>y()&&a(Ut,{onClose:t,get children(){const P=Ki.cloneNode(!0),E=P.firstChild,T=E.firstChild,A=T.nextSibling;return f(E,a(Wt,{children:"Ingame prices for burnable fuel"}),T),f(T,a(xe,{label:"Show only buyable products",get checked(){return h()},onChange:L=>m(L)}),null),f(T,a(xe,{label:"Show only offers in selected currency",get checked(){return d()},onChange:L=>u(L)}),null),f(A,a(Z,{get children(){return[a(te,{get children(){return[a(N,{children:"Product Name"}),a(N,{children:"Store Name"}),a(N,{children:"Store Owner"}),a(N,{children:"Quantity"}),a(N,{children:"Price"}),a(N,{children:"Joules"}),a(N,{children:"1k Joule price"})]}}),a(ee,{get children(){return a(G,{get each(){return I()},children:L=>(()=>{const K=Qi.cloneNode(!0),X=K.firstChild,re=X.nextSibling,ne=re.nextSibling,le=ne.nextSibling,pe=le.nextSibling,Se=pe.nextSibling,se=Se.firstChild,oe=Se.nextSibling;return f(X,()=>L.ItemName),f(re,()=>L.StoreName),f(ne,()=>L.StoreOwner),f(le,()=>L.Buying?`Buying ${L.Limit} for`:`Selling ${L.MaxNumWanted} for`),f(pe,()=>L.Price),f(Se,()=>L.Joules,se),f(oe,a(k,{noStyle:!0,text:"Click to set your personal fuel price",get children(){return a(V,{onClick:()=>{l.costPer1kJoule(L.PricePer1kJ)},get children(){return`${L.PricePer1kJ} ${L.CurrencyName}`}})}})),K})()})}})]}}),null),f(A,a(it,{get currentPage(){return o()},get totalPages(){return b()},onChange:c}),null),P}})})()},ln=()=>a(Rs,{get children(){return[a(Js,{}),a(Ji,{}),a(Ls,{}),a(qi,{})]}});const Yi=x('<input class="rounded-md border border-gray-300 h-8 px-2 rounded-md text-sm font-small focus:outline-none text-black" type="search" placeholder="User name">');var Zi=()=>{const{mainState:e,update:t}=U();return(()=>{const r=Yi.cloneNode(!0);return r.addEventListener("change",n=>t.userName(n.currentTarget.value)),O(()=>r.value=e.userName),r})()};const eo=x('<header class="bg-white shadow relative"><div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"><div><h1 class="text-3xl font-bold text-gray-900"></h1><span></span></div></div></header>'),to=x('<div class="flex justify-between pt-3"><div class="flex gap-4"></div></div>');var ro=e=>{const{serversResource:t,currentServer:r,currentCurrency:n,update:s,allCurrencies:l}=U(),i=$(()=>{const o=t?.()?.filter(c=>c.isOnline)?.map(c=>({value:c.key,text:c.name}))??[];return o.find(c=>c.value===r())?o:[...o,...t?.()?.filter(c=>c.key===r()).map(c=>({value:c.key,text:c.name}))??[]]});return(()=>{const o=eo.cloneNode(!0),c=o.firstChild,d=c.firstChild,u=d.firstChild,h=u.nextSibling;return f(u,()=>e.currentRoute()?.text),f(h,()=>e.currentRoute()?.description),f(c,(()=>{const m=w(()=>!!e.currentRoute()?.includeHeaderFields,!0);return()=>m()&&(()=>{const p=to.cloneNode(!0),g=p.firstChild;return f(p,a(Ie,{text:"Username:",vertical:!0,get children(){return a(Zi,{})}}),g),f(g,a(Ie,{text:"Currency:",vertical:!0,get children(){return a(Le,{get value(){return n()},get values(){return[{value:"",text:"Select a currency"},...l()?.map(S=>({value:S,text:S}))??[]]},onChange:S=>s.currency(`${S}`),origin:"SE",direction:"SW"})}}),null),f(g,(()=>{const S=w(()=>!{}.VITE_SERVER,!0);return()=>S()&&a(Ie,{text:"Eco Server:",vertical:!0,get children(){return[w((()=>{const _=w(()=>i()?.length>0,!0);return()=>_()&&a(Le,{get value(){return r()},get values(){return[{value:"",text:"Select your server"},...i(),...t?.loading??!0?[{value:"",text:"Loading online servers..."}]:[]]},onChange:I=>{I!==""&&s.server(`${I}`)},origin:"SE",direction:"SW"})})()),w(()=>(t?.loading??!0)&&i()?.length<=0&&"loading..."),w(()=>!(t?.loading??!0)&&i()?.length<=0&&"try again later")]}})})(),null),p})()})(),null),o})()};const no=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var sn=no;const lo="2.0.0",so=256,io=Number.MAX_SAFE_INTEGER||9007199254740991,oo=16;var on={SEMVER_SPEC_VERSION:lo,MAX_LENGTH:so,MAX_SAFE_INTEGER:io,MAX_SAFE_COMPONENT_LENGTH:oo},Qt={exports:{}};(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r}=on,n=sn;t=e.exports={};const s=t.re=[],l=t.src=[],i=t.t={};let o=0;const c=(d,u,h)=>{const m=o++;n(d,m,u),i[d]=m,l[m]=u,s[m]=new RegExp(u,h?"g":void 0)};c("NUMERICIDENTIFIER","0|[1-9]\\d*"),c("NUMERICIDENTIFIERLOOSE","[0-9]+"),c("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),c("MAINVERSION",`(${l[i.NUMERICIDENTIFIER]})\\.(${l[i.NUMERICIDENTIFIER]})\\.(${l[i.NUMERICIDENTIFIER]})`),c("MAINVERSIONLOOSE",`(${l[i.NUMERICIDENTIFIERLOOSE]})\\.(${l[i.NUMERICIDENTIFIERLOOSE]})\\.(${l[i.NUMERICIDENTIFIERLOOSE]})`),c("PRERELEASEIDENTIFIER",`(?:${l[i.NUMERICIDENTIFIER]}|${l[i.NONNUMERICIDENTIFIER]})`),c("PRERELEASEIDENTIFIERLOOSE",`(?:${l[i.NUMERICIDENTIFIERLOOSE]}|${l[i.NONNUMERICIDENTIFIER]})`),c("PRERELEASE",`(?:-(${l[i.PRERELEASEIDENTIFIER]}(?:\\.${l[i.PRERELEASEIDENTIFIER]})*))`),c("PRERELEASELOOSE",`(?:-?(${l[i.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[i.PRERELEASEIDENTIFIERLOOSE]})*))`),c("BUILDIDENTIFIER","[0-9A-Za-z-]+"),c("BUILD",`(?:\\+(${l[i.BUILDIDENTIFIER]}(?:\\.${l[i.BUILDIDENTIFIER]})*))`),c("FULLPLAIN",`v?${l[i.MAINVERSION]}${l[i.PRERELEASE]}?${l[i.BUILD]}?`),c("FULL",`^${l[i.FULLPLAIN]}$`),c("LOOSEPLAIN",`[v=\\s]*${l[i.MAINVERSIONLOOSE]}${l[i.PRERELEASELOOSE]}?${l[i.BUILD]}?`),c("LOOSE",`^${l[i.LOOSEPLAIN]}$`),c("GTLT","((?:<|>)?=?)"),c("XRANGEIDENTIFIERLOOSE",`${l[i.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),c("XRANGEIDENTIFIER",`${l[i.NUMERICIDENTIFIER]}|x|X|\\*`),c("XRANGEPLAIN",`[v=\\s]*(${l[i.XRANGEIDENTIFIER]})(?:\\.(${l[i.XRANGEIDENTIFIER]})(?:\\.(${l[i.XRANGEIDENTIFIER]})(?:${l[i.PRERELEASE]})?${l[i.BUILD]}?)?)?`),c("XRANGEPLAINLOOSE",`[v=\\s]*(${l[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[i.XRANGEIDENTIFIERLOOSE]})(?:${l[i.PRERELEASELOOSE]})?${l[i.BUILD]}?)?)?`),c("XRANGE",`^${l[i.GTLT]}\\s*${l[i.XRANGEPLAIN]}$`),c("XRANGELOOSE",`^${l[i.GTLT]}\\s*${l[i.XRANGEPLAINLOOSE]}$`),c("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),c("COERCERTL",l[i.COERCE],!0),c("LONETILDE","(?:~>?)"),c("TILDETRIM",`(\\s*)${l[i.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",c("TILDE",`^${l[i.LONETILDE]}${l[i.XRANGEPLAIN]}$`),c("TILDELOOSE",`^${l[i.LONETILDE]}${l[i.XRANGEPLAINLOOSE]}$`),c("LONECARET","(?:\\^)"),c("CARETTRIM",`(\\s*)${l[i.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",c("CARET",`^${l[i.LONECARET]}${l[i.XRANGEPLAIN]}$`),c("CARETLOOSE",`^${l[i.LONECARET]}${l[i.XRANGEPLAINLOOSE]}$`),c("COMPARATORLOOSE",`^${l[i.GTLT]}\\s*(${l[i.LOOSEPLAIN]})$|^$`),c("COMPARATOR",`^${l[i.GTLT]}\\s*(${l[i.FULLPLAIN]})$|^$`),c("COMPARATORTRIM",`(\\s*)${l[i.GTLT]}\\s*(${l[i.LOOSEPLAIN]}|${l[i.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",c("HYPHENRANGE",`^\\s*(${l[i.XRANGEPLAIN]})\\s+-\\s+(${l[i.XRANGEPLAIN]})\\s*$`),c("HYPHENRANGELOOSE",`^\\s*(${l[i.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[i.XRANGEPLAINLOOSE]})\\s*$`),c("STAR","(<|>)?=?\\s*\\*"),c("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),c("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Qt,Qt.exports);const co=["includePrerelease","loose","rtl"],ao=e=>e?typeof e!="object"?{loose:!0}:co.filter(t=>e[t]).reduce((t,r)=>(t[r]=!0,t),{}):{};var uo=ao;const cn=/^[0-9]+$/,an=(e,t)=>{const r=cn.test(e),n=cn.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},fo=(e,t)=>an(t,e);var go={compareIdentifiers:an,rcompareIdentifiers:fo};const St=sn,{MAX_LENGTH:un,MAX_SAFE_INTEGER:bt}=on,{re:dn,t:fn}=Qt.exports,ho=uo,{compareIdentifiers:Je}=go;class fe{constructor(t,r){if(r=ho(r),t instanceof fe){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid Version: ${t}`);if(t.length>un)throw new TypeError(`version is longer than ${un} characters`);St("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?dn[fn.LOOSE]:dn[fn.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>bt||this.major<0)throw new TypeError("Invalid major version");if(this.minor>bt||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>bt||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const l=+s;if(l>=0&&l<bt)return l}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(St("SemVer.compare",this.version,this.options,t),!(t instanceof fe)){if(typeof t=="string"&&t===this.version)return 0;t=new fe(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof fe||(t=new fe(t,this.options)),Je(this.major,t.major)||Je(this.minor,t.minor)||Je(this.patch,t.patch)}comparePre(t){if(t instanceof fe||(t=new fe(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],s=t.prerelease[r];if(St("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Je(n,s)}while(++r)}compareBuild(t){t instanceof fe||(t=new fe(t,this.options));let r=0;do{const n=this.build[r],s=t.build[r];if(St("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Je(n,s)}while(++r)}inc(t,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}r&&(Je(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${t}`)}return this.format(),this.raw=this.version,this}}var mo=fe;const gn=mo,po=(e,t,r)=>new gn(e,r).compare(new gn(t,r));var vo=po;const $o=vo,xo=(e,t,r)=>$o(e,t,r)<0;var yo=xo;const wo=x('<div role="alert"></div>'),So=x('<div class="max-w-7xl mx-auto py-2 px-4 sm:px-6 lg:px-8"></div>'),bo=x('<p class="font-bold">Critical error found:</p>'),Po=x('<p class="text-sm">Not connected to server files. Check if mod is installed and configured properly on your eco server.</p>'),Co=x('<p class="text-sm">Not all files are being exported. Either restart the eco server or run commands /dumplivedata and /dumprecipes as admin.</p>'),_o=x('<p class="font-bold">Warning:</p>'),No=x(`<p class="text-sm">Your server files haven't been updated in <!> hours. Make sure the mod is running and configured properly on your eco server.</p>`),Eo=x('<p class="font-bold">Info:</p>'),Io=x('<p class="text-sm">Eco server is running an outdated version of the required mod <i>Live data exporter</i>: <!>. Please download latest version <!> from <a class="underline" href="https://eco.mod.io/live-data-exporter" target="_blank">https://eco.mod.io</a>.</p>'),Ro=e=>{const t=new Date;var r=new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds());return Math.round((r.getTime()-e.getTime())/36e5)};var H;(function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.None=3]="None"})(H||(H={}));const To=e=>yo(e,tn),Oo=({hasNoData:e,hasOnlySomeData:t,lastUpdateInHours:r,isPluginOutdated:n})=>e||t?H.Error:r>4?H.Warning:n?H.Info:H.None;var Ao=()=>{const{storesResource:e,recipesResource:t,tagsResource:r}=U(),n=$(()=>{const s=!!e?.()?.PluginVersion,l=!!t?.()?.PluginVersion,i=!!r?.()?.PluginVersion,o=!s&&!l&&!i,c=!s||!l||!i,d=e?.()?.ExportedAt,u=d?Ro(Bl(d)):0,h=e?.()?.PluginVersion,m=!!h&&To(h);return{loading:e?.loading||t?.loading||r?.loading,logLevel:Oo({hasNoData:o,hasOnlySomeData:c,lastUpdateInHours:u,isPluginOutdated:m}),hasNoData:o,hasOnlySomeData:c,lastUpdateInHours:u,isPluginOutdated:m,pluginVersion:h}});return(()=>{const s=wo.cloneNode(!0);return f(s,(()=>{const l=w(()=>!n().loading&&n().logLevel!=H.None,!0);return()=>l()&&(()=>{const i=So.cloneNode(!0);return f(i,(()=>{const o=w(()=>n().logLevel===H.Error,!0);return()=>o()&&bo.cloneNode(!0)})(),null),f(i,(()=>{const o=w(()=>!!(n().logLevel===H.Error&&n().hasNoData),!0);return()=>o()&&Po.cloneNode(!0)})(),null),f(i,(()=>{const o=w(()=>!!(n().logLevel===H.Error&&!n().hasNoData&&n().hasOnlySomeData),!0);return()=>o()&&Co.cloneNode(!0)})(),null),f(i,(()=>{const o=w(()=>n().logLevel===H.Warning,!0);return()=>o()&&_o.cloneNode(!0)})(),null),f(i,(()=>{const o=w(()=>!!(n().logLevel===H.Warning&&n().lastUpdateInHours),!0);return()=>o()&&(()=>{const c=No.cloneNode(!0),d=c.firstChild,u=d.nextSibling;return u.nextSibling,f(c,()=>n().lastUpdateInHours,u),c})()})(),null),f(i,(()=>{const o=w(()=>n().logLevel===H.Info,!0);return()=>o()&&Eo.cloneNode(!0)})(),null),f(i,(()=>{const o=w(()=>!!(n().logLevel===H.Info&&n().isPluginOutdated),!0);return()=>o()&&(()=>{const c=Io.cloneNode(!0),d=c.firstChild,u=d.nextSibling,h=u.nextSibling,m=h.nextSibling,p=m.nextSibling,g=p.nextSibling;return g.nextSibling,f(c,()=>n().pluginVersion,m),f(c,()=>tn,g),c})()})(),null),i})()})()),O(()=>s.className=B({"border-t border-b":!n().loading&&n().logLevel!=H.None,"bg-red-100 border-red-400 text-red-700":n().logLevel===H.Error,"bg-yellow-100 border-yellow-500 text-yellow-700":n().logLevel===H.Warning,"bg-blue-100 border-blue-500 text-blue-700":n().logLevel===H.Info})),s})()};const ko=x('<div class="min-h-full"><main class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"></main></div>'),Lo=ht(()=>at(()=>Promise.resolve().then(function(){return Zo}),void 0)),Mo=ht(()=>at(()=>Promise.resolve().then(function(){return lc}),void 0)),Fo=ht(()=>at(()=>Promise.resolve().then(function(){return dc}),void 0)),Do=ht(()=>at(()=>Promise.resolve().then(function(){return pc}),void 0)),Me={PriceCalculator:{text:"Price Calculator",description:"Allows calculation of price for products in a recipe based on all ingredients / raw materials necessary",href:"/",includeHeaderFields:!0},Market:{text:"Ingame market",description:"Buy/sell orders of all stores ingame",href:"/market",includeHeaderFields:!0},RawData:{text:"Raw data",description:"Download the raw files that this app uses for your own personal uses",href:"/rawData"},Personal:{text:"Personal",description:"List and edit current cached personal values",href:"/personal"},Home:{text:"About",description:"",href:"/about"}},Bo=()=>{const e=Pr(),t=$(()=>Object.keys(Me).map(n=>({...Me[n],highlight:e.pathname===Me[n].href}))),r=$(()=>t().find(n=>n.highlight));return a(Xl,{get children(){const n=ko.cloneNode(!0),s=n.firstChild;return f(n,a(bl,{get routes(){return t()}}),s),f(n,a(Ao,{}),s),f(n,a(ro,{currentRoute:r}),s),f(s,a($l,{get children(){return[a(ze,{get path(){return Me.Market.href},get element(){return a(Lo,{})}}),a(ze,{get path(){return Me.RawData.href},get element(){return a(Mo,{})}}),a(ze,{get path(){return Me.Personal.href},get element(){return a(Fo,{})}}),a(ze,{get path(){return Me.Home.href},get element(){return a(Do,{})}}),a(ze,{path:"/",get element(){return a(ln,{})}}),a(ze,{path:"/*all",get element(){return a(ln,{})}})]}})),n}})},jo=()=>jn(()=>a(vl,{get children(){return a(Bo,{})}}),document.getElementById("root"));jo();var me;(function(e){e[e.PRODUCT=0]="PRODUCT",e[e.STORE=1]="STORE",e[e.QUANTITY=2]="QUANTITY",e[e.PRICE=3]="PRICE"})(me||(me={}));var Re;(function(e){e[e.STORE=0]="STORE",e[e.BALANCE=1]="BALANCE",e[e.OFFERS=2]="OFFERS"})(Re||(Re={}));const Vo=(e,t,r,n)=>{const s=n?-1:1;switch(r){case 1:return(e.Balance-t.Balance)*s;case 2:return(e.AllOffers.length-t.AllOffers.length)*s;default:return Ae(e.Name,t.Name)*s}},Uo=(e,t,r,n)=>{const s=n?-1:1;switch(r){case 1:return Ae(e.StoreName,t.StoreName)*s;case 2:return(e.Quantity-t.Quantity)*s;case 3:return(e.Price-t.Price)*s;default:return Ae(e.ItemName,t.ItemName)*s}};var Wo=()=>{const{storesResource:e,allProductsInStores:t,isLoadingResources:r,mainState:n,update:s,currentCurrency:l}=U(),[i,o]=ae({search:"",isStoresTable:!0,filterOrderType:we.BOTH,storesPage:1,productsPage:1,filterByOwner:!1,showStoreModal:void 0,sortingProducts:{column:0,directionDesc:!1},sortingStores:{column:0,directionDesc:!1},pageSize:100},"MarketStore"),c=$(()=>e?.()?.Stores?.filter(g=>(he(i.search,g.Name??"")||he(i.search,g.Owner??""))&&he(l(),g.CurrencyName??"")&&(!i.filterByOwner||n.userName.length===0||he(n.userName,g.Owner??""))).sort((g,S)=>Vo(g,S,i.sortingStores.column,i.sortingStores.directionDesc)).slice((i.storesPage-1)*i.pageSize,i.storesPage*i.pageSize)),d=$(()=>Math.ceil((e?.()?.Stores?.length??0)/i.pageSize)),u=$(()=>(t()??[]).filter(g=>(he(i.search,g.ItemName??"")||he(i.search,g.StoreName??"")||he(i.search,g.StoreOwner??""))&&he(l(),g.CurrencyName??"")&&(!i.filterByOwner||n.userName.length===0||he(n.userName,g.StoreOwner??""))&&(i.filterOrderType===we.BOTH||i.filterOrderType===we.BUY&&g.Buying||i.filterOrderType===we.SELL&&!g.Buying))),h=$(()=>Math.ceil((u()?.length??0)/i.pageSize)),m=$(()=>u().sort((g,S)=>Uo(g,S,i.sortingProducts.column,i.sortingProducts.directionDesc)).slice((i.productsPage-1)*i.pageSize,i.productsPage*i.pageSize)),[p]=jr(g=>o({search:g,storesPage:1,productsPage:1}),200);return Ce(()=>{n.currency,o({storesPage:1,productsPage:1})}),{state:i,stores:c,isLoadingResources:r,setSearch:p,setCurrencyFilter:g=>s.currency(g),toggleTableType:()=>o(g=>({isStoresTable:!g.isStoresTable})),setOrderType:g=>o({filterOrderType:g}),setStoresPage:g=>o({storesPage:g}),setPageSize:g=>o({pageSize:g}),setProductsPage:g=>o({productsPage:g}),setFilterByOwner:g=>o({filterByOwner:g}),setShowStoreModal:g=>o({showStoreModal:g}),toggleSortStoresTable:g=>{o(S=>({sortingStores:{column:g,directionDesc:S.sortingStores.column!==g?!1:!S.sortingStores.directionDesc}}))},toggleSortProductTable:g=>{o(S=>({sortingProducts:{column:g,directionDesc:S.sortingProducts.column!==g?!1:!S.sortingProducts.directionDesc}}))},products:m,storesTotalPages:d,productsTotalPages:h,clearFilters:()=>o({search:"",storesPage:1,productsPage:1,filterByOwner:!1})}};const zo=x('<tr><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td></tr>');var Go=e=>a(Z,{get children(){return[a(te,{get children(){return[a(N,{onSort:()=>e.toggleSortColumn(Re.STORE),get directionDesc(){return e.currentSort.column===Re.STORE?e.currentSort.directionDesc:void 0},children:"Store Name"}),a(N,{children:"Store Owner"}),a(N,{children:"Currency"}),a(N,{onSort:()=>e.toggleSortColumn(Re.BALANCE),get directionDesc(){return e.currentSort.column===Re.BALANCE?e.currentSort.directionDesc:void 0},children:"Balance"}),a(N,{onSort:()=>e.toggleSortColumn(Re.OFFERS),get directionDesc(){return e.currentSort.column===Re.OFFERS?e.currentSort.directionDesc:void 0},children:"Offers"})]}}),a(ee,{get children(){return[a(Xt,{get show(){return e.isLoadingResource}}),a(G,{get each(){return e.stores()},children:t=>(()=>{const r=zo.cloneNode(!0),n=r.firstChild,s=n.nextSibling,l=s.nextSibling,i=l.nextSibling,o=i.nextSibling;return f(n,a(k,{noStyle:!0,text:"Click to show store orders",get children(){return a(V,{onClick:()=>e.setShowStoreModal(t.Name),get children(){return t.Name}})}})),f(s,a(k,{noStyle:!0,text:"Click to filter by store owner",get children(){return a(V,{onClick:()=>e.setSearch(t.Owner),get children(){return t.Owner}})}})),f(l,a(k,{noStyle:!0,text:"Click to select this currency",get children(){return a(V,{onClick:()=>e.setCurrencyFilter(t.CurrencyName),get children(){return t.CurrencyName}})}})),f(i,()=>t.Balance),f(o,()=>t.AllOffers.length),r})()})]}})]}});const Ho=x('<tr><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-right"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">&nbsp;</td></tr>');var Xo=e=>a(Z,{get children(){return[a(te,{get children(){return[a(N,{onSort:()=>e.toggleSortColumn(me.PRODUCT),get directionDesc(){return e.currentSort.column===me.PRODUCT?e.currentSort.directionDesc:void 0},children:"Product Name"}),a(N,{onSort:()=>e.toggleSortColumn(me.STORE),get directionDesc(){return e.currentSort.column===me.STORE?e.currentSort.directionDesc:void 0},children:"Store Name"}),a(N,{children:"Store Owner"}),a(N,{onSort:()=>e.toggleSortColumn(me.QUANTITY),get directionDesc(){return e.currentSort.column===me.QUANTITY?e.currentSort.directionDesc:void 0},children:"Quantity"}),a(N,{onSort:()=>e.toggleSortColumn(me.PRICE),get directionDesc(){return e.currentSort.column===me.PRICE?e.currentSort.directionDesc:void 0},children:"Price"})]}}),a(ee,{get children(){return[a(Xt,{get show(){return e.isLoadingResources}}),a(G,{get each(){return e.products()},children:t=>(()=>{const r=Ho.cloneNode(!0),n=r.firstChild,s=n.nextSibling,l=s.nextSibling,i=l.nextSibling,o=i.nextSibling,c=o.firstChild;return f(n,a(k,{noStyle:!0,text:"Click to filter by product name",get children(){return a(V,{onClick:()=>e.setSearch(t.ItemName),get children(){return t.ItemName}})}})),f(s,a(k,{noStyle:!0,text:"Click to show store orders",get children(){return a(V,{onClick:()=>e.setShowStoreModal(t.StoreName),get children(){return t.StoreName}})}})),f(l,a(k,{noStyle:!0,text:"Click to filter by store owner",get children(){return a(V,{onClick:()=>e.setSearch(t.StoreOwner),get children(){return t.StoreOwner}})}})),f(i,(()=>{const d=w(()=>!!t.Buying,!0);return()=>d()?["Buying ",a(ye,{get text(){return`${t.Limit}`}})," for"]:["Selling ",a(ye,{get text(){return`${t.MaxNumWanted}`}})," for"]})()),f(o,a(ye,{get text(){return`${t.Price}`}}),c),f(o,()=>t.CurrencyName,null),r})()})]}})]}}),Jo=e=>a(Le,{get value(){return e.pageSize},values:[{value:10,text:"10 rows"},{value:20,text:"20 rows"},{value:50,text:"50 rows"},{value:100,text:"100 rows"},{value:200,text:"200 rows"},{value:1e3,text:"1000 rows"}],onChange:t=>e.onChange(Number(t)),origin:"SE",direction:"SW"});const Ko=x('<div class="sm:flex sm:items-start"><div class="flex-grow mt-3 text-center sm:mt-0 sm:text-left"><div class="mt-2 flex lg:flex-row gap-2 sm:flex-col"></div></div></div>'),hn=x('<tr><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-right"></td></tr>');var Qo=e=>{const{allProductsInStores:t}=U(),r=$(()=>t()?.filter(l=>l.StoreName===e.storeName)),n=$(()=>r()?.filter(l=>!l.Buying)),s=$(()=>r()?.filter(l=>l.Buying));return(()=>{const l=w(()=>!!e.storeName,!0);return()=>l()&&a(Ut,{get onClose(){return e.hideModal},get children(){const i=Ko.cloneNode(!0),o=i.firstChild,c=o.firstChild;return f(o,a(Wt,{get children(){return["Ingame orders for store ",w(()=>e.storeName)]}}),c),f(c,a(Z,{get children(){return[a(te,{get children(){return[a(N,{children:"Selling"}),a(N,{children:"Price"}),a(N,{children:"Quantity"})]}}),a(ee,{get children(){return a(G,{get each(){return n()},children:d=>(()=>{const u=hn.cloneNode(!0),h=u.firstChild,m=h.nextSibling,p=m.nextSibling;return f(h,()=>d.ItemName),f(m,()=>d.Price),f(p,()=>d.MaxNumWanted),u})()})}})]}}),null),f(c,a(Z,{get children(){return[a(te,{get children(){return[a(N,{children:"Purchasing"}),a(N,{children:"Price"}),a(N,{children:"Max wanted"})]}}),a(ee,{get children(){return a(G,{get each(){return s()},children:d=>(()=>{const u=hn.cloneNode(!0),h=u.firstChild,m=h.nextSibling,p=m.nextSibling;return f(h,()=>d.ItemName),f(m,()=>d.Price),f(p,()=>d.Limit),u})()})}})]}}),null),i}})})()};const qo=x('<div><div class="flex justify-between"><div></div><div class="flex items-center gap-2 mb-2"></div></div></div>');var Yo=()=>{const{state:e,stores:t,isLoadingResources:r,setSearch:n,setCurrencyFilter:s,toggleTableType:l,setOrderType:i,products:o,storesTotalPages:c,productsTotalPages:d,setStoresPage:u,setProductsPage:h,setFilterByOwner:m,setShowStoreModal:p,setPageSize:g,toggleSortStoresTable:S,toggleSortProductTable:_,clearFilters:I}=Wo();return(()=>{const b=qo.cloneNode(!0),y=b.firstChild,P=y.firstChild,E=P.nextSibling;return f(P,a(k,{text:"click to filter by stores owned by you (set your name in the header above)",origin:"NW",direction:"NE",get children(){return a(xe,{label:"Only show my store's",get checked(){return e.filterByOwner},onChange:T=>m(T)})}})),f(E,a(Zr,{get value(){return e.search},onChange:n}),null),f(E,a(Ee,{options:[{text:"Stores",value:"Stores"},{text:"Products",value:"Products"}],onChange:()=>l(),get selected(){return e.isStoresTable?"Stores":"Products"}}),null),f(E,a(Ue,{get when(){return!e.isStoresTable},get children(){return a(Ee,{get options(){return[{text:"Buy",value:we.BUY},{text:"Sell",value:we.SELL},{text:"Both",value:we.BOTH}]},onChange:T=>i(Number(T)),get selected(){return e.filterOrderType}})}}),null),f(E,a(V,{onClick:()=>I(),children:"Clear filters"}),null),f(E,a(Jo,{get pageSize(){return e.pageSize},onChange:g}),null),f(b,a(Ue,{get when(){return e.isStoresTable},get children(){return[a(Go,{stores:t,isLoadingResource:r,setSearch:n,setCurrencyFilter:s,setShowStoreModal:p,get currentSort(){return e.sortingStores},toggleSortColumn:S}),a(it,{get currentPage(){return e.storesPage},get totalPages(){return c()},onChange:u})]}}),null),f(b,a(Ue,{get when(){return!e.isStoresTable},get children(){return[a(Xo,{products:o,isLoadingResources:r,setSearch:n,setCurrencyFilter:s,setShowStoreModal:p,get currentSort(){return e.sortingProducts},toggleSortColumn:_}),a(it,{get currentPage(){return e.productsPage},get totalPages(){return d()},onChange:h})]}}),null),f(b,a(Qo,{get storeName(){return e.showStoreModal},hideModal:()=>p(void 0)}),null),b})()},Zo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Yo});const ec=(e,t)=>{const r=new Blob([decodeURIComponent(encodeURI(JSON.stringify(t)))],{type:"application/json;charset=utf-8;"}),n=document.createElement("a");n.href=URL.createObjectURL(r),n.setAttribute("download",`${e}.json`),n.target="_blank",document.body.appendChild(n),n.click(),n?.parentNode?.removeChild(n)};var tc=()=>{const{currentServer:e}=U(),[t,r]=F(""),[n]=_e(t,s=>s?jl(e(),s).then(l=>({filename:s,json:l})):Promise.resolve(void 0));return Ce(()=>{const s=n()&&n()?.filename;s&&ec(s,n()?.json),r("")}),{downloadFile:r}};const rc=x('<tr><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td><td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium"><button class="text-indigo-800 hover:text-indigo-900">Download</button></td></tr>');var Pt=({name:e,exportedAt:t,downloadFile:r})=>(()=>{const n=rc.cloneNode(!0),s=n.firstChild,l=s.nextSibling,i=l.nextSibling,o=i.firstChild;return f(s,e),f(l,t),o.$$click=()=>r(e),n})();Y(["click"]);var nc=()=>{const{storesResource:e,tagsResource:t,recipesResource:r,craftingTablesResource:n}=U(),{downloadFile:s}=tc(),l=$(()=>e?.()?.ExportedAt?.StringRepresentation??"Not exported"),i=$(()=>r?.()?.ExportedAt?.StringRepresentation??"Not exported"),o=$(()=>t?.()?.ExportedAt?.StringRepresentation??"Not exported"),c=$(()=>n?.()?.ExportedAt?.StringRepresentation??"Not exported");return a(Z,{get children(){return[a(te,{get children(){return[a(N,{children:"File name"}),a(N,{children:"Last update"}),a(is,{children:"Download"})]}}),a(ee,{get children(){return[w((()=>{const d=w(()=>!!e?.()?.ExportedAt,!0);return()=>d()&&a(Pt,{name:"Stores",exportedAt:l,downloadFile:()=>s(pi)})})()),w((()=>{const d=w(()=>!!r?.()?.ExportedAt,!0);return()=>d()&&a(Pt,{name:"Recipes",exportedAt:i,downloadFile:()=>s(gi)})})()),w((()=>{const d=w(()=>!!t?.()?.ExportedAt,!0);return()=>d()&&a(Pt,{name:"Tags",exportedAt:o,downloadFile:()=>s(mi)})})()),w((()=>{const d=w(()=>!!n?.()?.ExportedAt,!0);return()=>d()&&a(Pt,{name:"Crafting Tables",exportedAt:c,downloadFile:()=>s(hi)})})())]}})]}})},lc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:nc});const sc=x('<button><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="#000000" viewBox="0 0 1024 1024"><path d="M512 897.6c-108 0-209.6-42.4-285.6-118.4-76-76-118.4-177.6-118.4-285.6 0-108 42.4-209.6 118.4-285.6 76-76 177.6-118.4 285.6-118.4 108 0 209.6 42.4 285.6 118.4 157.6 157.6 157.6 413.6 0 571.2-76 76-177.6 118.4-285.6 118.4z m0-760c-95.2 0-184.8 36.8-252 104-67.2 67.2-104 156.8-104 252s36.8 184.8 104 252c67.2 67.2 156.8 104 252 104 95.2 0 184.8-36.8 252-104 139.2-139.2 139.2-364.8 0-504-67.2-67.2-156.8-104-252-104z"></path><path d="M707.872 329.392L348.096 689.16l-31.68-31.68 359.776-359.768z"></path><path d="M328 340.8l32-31.2 348 348-32 32z"></path></svg></button>');var qt=e=>(()=>{const t=sc.cloneNode(!0);return tt(t,"click",e.onClick,!0),O(()=>t.className=B("rounded-full hover:bg-gray-100",e.class??"")),t})();Y(["click"]);const ic=x('<div class="group flex items-center"></div>'),oc=x('<tr><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 group flex"></td></tr>'),cc=x('<td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 group"></td>'),ac=x('<div class="flex items-start"></div>');var uc=()=>{const{getState:e,update:t,clear:r}=U(),n=$(()=>[...new Set(Object.entries(e.personalPrice).flatMap(([s,l])=>Object.keys(l)))].sort(Ae));return a(Z,{get children(){return[a(te,{get children(){return[a(N,{children:"Item name"}),a(G,{get each(){return n()},children:s=>a(N,{get children(){const l=ic.cloneNode(!0);return f(l,s,null),f(l,a(k,{noStyle:!0,text:"Click to delete all personal prices in this currency",get children(){return a(qt,{class:"opacity-0 group-hover:opacity-100",onClick:()=>{r.personalCurrency(s)}})}}),null),l}})})]}}),a(ee,{get children(){return a(G,{get each(){return Object.entries(e.personalPrice).sort((s,l)=>Ae(s[0],l[0]))},children:([s,l])=>(()=>{const i=oc.cloneNode(!0),o=i.firstChild;return f(o,()=>jt(Dl(s)),null),f(o,a(k,{noStyle:!0,text:"Click to delete all personal prices for this item",get children(){return a(qt,{class:"opacity-0 group-hover:opacity-100",onClick:()=>{r.personalPriceProduct(s)}})}}),null),f(i,a(G,{get each(){return n()},children:c=>(()=>{const d=cc.cloneNode(!0);return f(d,(()=>{const u=w(()=>l[c]===void 0,!0);return()=>u()&&a(V,{class:"opacity-0 group-hover:opacity-100",onClick:()=>t.personalPrice(s,c,0),children:"Set price"})})(),null),f(d,(()=>{const u=w(()=>l[c]!==void 0,!0);return()=>u()&&(()=>{const h=ac.cloneNode(!0);return f(h,a(Xe,{get value(){return l[c]},onChange:m=>t.personalPrice(s,c,m)}),null),f(h,a(k,{noStyle:!0,text:"Click to delete this personal price",get children(){return a(qt,{class:"opacity-0 group-hover:opacity-100",onClick:()=>{r.personalPriceCurrency(s,c)}})}}),null),h})()})(),null),d})()}),null),i})()})}})]}})},dc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:uc});const fc="_changelog_9w0jh_1";var gc={changelog:fc};const hc=x(`<div><p>Hello and welcome,</p><p>I go by the nicknames of <i>Ucat</i> and <i>Fon</i> and i've been building this tool on my spare time. You can contact me using discord, my handle is Fon#2880. Here's a brief explanation on current features:</p><p><b>Price calculator</b> page is where you can find all recipes in game and use them to figure out how much you should price your products in your store. No more excel or calculator, this tool does all those calculations for you. <br>Video tutorial here: <a class="no-underline hover:underline text-blue-600 hover:text-blue-800 visited:text-purple-600" target="_blank" href="https://youtu.be/F3RWjCK5VcM">https://youtu.be/F3RWjCK5VcM</a></p><p><b>Ingame market</b> page is where you can check the products that are being sold at this moment in ingame stores. There are currently two views with different visibility level: one for stores and one for products. <br>Video tutorial here: <a class="no-underline hover:underline text-blue-600 hover:text-blue-800 visited:text-purple-600" target="_blank" href="https://youtu.be/ZraPFAxvyjo">https://youtu.be/ZraPFAxvyjo</a></p><p><b>Raw data</b> page is where you can download the raw files i use on this tool to check raw data or to create your own tool.<br>Video tutorial here: <a class="no-underline hover:underline text-blue-600 hover:text-blue-800 visited:text-purple-600" target="_blank" href="https://youtu.be/sUkygO9QyOE">https://youtu.be/sUkygO9QyOE</a></p><p><b>Personal</b> page is where you can see and edit all the personal prices and other default values you used. The tool remembers your last choices so that you don't have to.<br></p><br><br><p>PS: I could really use the help of a UX designer to improve this tool. If you have the skills and are willing to help, please reach out to me over discord. </p><br>If you like this tool and you wish to thank me for my efforts and/or you'd like to contribute to it's further development and maintenance consider <a class="no-underline hover:underline text-blue-600 hover:text-blue-800 visited:text-purple-600" target="_blank" href="https://www.buymeacoffee.com/pricecalculator">buying me a coffee</a> for inspiration in future coding sessions. Thanks for appreciating my efforts.<br><br><div><h2>Latest changes</h2><h3>3.4.1 (2023-08-07)</h3><h4>Bugfix</h4><ul><li>Check for online servers on the backend</li></ul><h3>3.4.0 (2023-08-06)</h3><h4>Features</h4><ul><li>Hide offline servers on server list</li><li>Select first online server by default</li></ul><h4>Bugfix</h4><ul><li>Minor fix to error when offline server was selected</li></ul></div></div>`);var mc=()=>(()=>{const e=hc.cloneNode(!0),t=e.firstChild,r=t.nextSibling,n=r.nextSibling,s=n.nextSibling,l=s.nextSibling,i=l.nextSibling,o=i.nextSibling,c=o.nextSibling,d=c.nextSibling,u=d.nextSibling,h=u.nextSibling,m=h.nextSibling,p=m.nextSibling,g=p.nextSibling,S=g.nextSibling,_=S.nextSibling;return O(()=>_.className=gc.changelog),e})(),pc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:mc});
